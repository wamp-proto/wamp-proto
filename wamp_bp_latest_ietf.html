<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>WAMP Basic Profile</title>
<meta content="Tobias Oberstein" name="author">
<meta content="xml2rfc 3.22.0" name="generator">
<meta content="WebSocket, WAMP, real-time, RPC, PubSub" name="keyword">
<meta content="WAMP" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.22.0
    Python 3.9.19
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.2.2
    pycountry 24.6.1
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 58.1.0
    wcwidth 0.2.13
    weasyprint 62.3
-->
<link href="./.build/wamp-bp.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body class="xml2rfc">
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">WAMP-BP</td>
<td class="right">July 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Oberstein</td>
<td class="center">Expires 24 January 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">BiDirectional or Server-Initiated HTTP</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">WAMP</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-07-23" class="published">23 July 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-01-24">24 January 2025</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T. Oberstein</div>
<div class="org">typedef int GmbH</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">WAMP Basic Profile</h1>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 24 January 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-wamp-basic-profile" class="internal xref">WAMP Basic Profile</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-basic-vs-advanced-profile" class="internal xref">Basic vs Advanced Profile</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-protocol-overview" class="internal xref">Protocol Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.1">
                    <p id="section-toc.1-1.1.2.3.2.1.1" class="keepWithNext"><a href="#section-1.3.1" class="auto internal xref">1.3.1</a>.  <a href="#name-realms-sessions-and-transpo" class="internal xref">Realms, Sessions and Transports</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.2">
                    <p id="section-toc.1-1.1.2.3.2.2.1"><a href="#section-1.3.2" class="auto internal xref">1.3.2</a>.  <a href="#name-peers-and-roles" class="internal xref">Peers and Roles</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.3">
                    <p id="section-toc.1-1.1.2.3.2.3.1"><a href="#section-1.3.3" class="auto internal xref">1.3.3</a>.  <a href="#name-publish-subscribe" class="internal xref">Publish &amp; Subscribe</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3.2.4">
                    <p id="section-toc.1-1.1.2.3.2.4.1"><a href="#section-1.3.4" class="auto internal xref">1.3.4</a>.  <a href="#name-remote-procedure-calls" class="internal xref">Remote Procedure Calls</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="auto internal xref">1.4</a>.  <a href="#name-design-aspects" class="internal xref">Design Aspects</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.1">
                    <p id="section-toc.1-1.1.2.4.2.1.1"><a href="#section-1.4.1" class="auto internal xref">1.4.1</a>.  <a href="#name-application-code" class="internal xref">Application Code</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.2">
                    <p id="section-toc.1-1.1.2.4.2.2.1"><a href="#section-1.4.2" class="auto internal xref">1.4.2</a>.  <a href="#name-language-agnostic" class="internal xref">Language Agnostic</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.3">
                    <p id="section-toc.1-1.1.2.4.2.3.1"><a href="#section-1.4.3" class="auto internal xref">1.4.3</a>.  <a href="#name-symmetric-messaging" class="internal xref">Symmetric Messaging</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.4">
                    <p id="section-toc.1-1.1.2.4.2.4.1"><a href="#section-1.4.4" class="auto internal xref">1.4.4</a>.  <a href="#name-peers-with-multiple-roles" class="internal xref">Peers with multiple Roles</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.5">
                    <p id="section-toc.1-1.1.2.4.2.5.1"><a href="#section-1.4.5" class="auto internal xref">1.4.5</a>.  <a href="#name-relationship-to-websocket" class="internal xref">Relationship to WebSocket</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-building-blocks" class="internal xref">Building Blocks</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-identifiers" class="internal xref">Identifiers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.1">
                    <p id="section-toc.1-1.2.2.1.2.1.1"><a href="#section-2.1.1" class="auto internal xref">2.1.1</a>.  <a href="#name-uris" class="internal xref">URIs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.2">
                    <p id="section-toc.1-1.2.2.1.2.2.1"><a href="#section-2.1.2" class="auto internal xref">2.1.2</a>.  <a href="#name-ids" class="internal xref">IDs</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-serializers" class="internal xref">Serializers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-transports" class="internal xref">Transports</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="auto internal xref">2.3.1</a>.  <a href="#name-websocket-transport" class="internal xref">WebSocket Transport</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="auto internal xref">2.3.2</a>.  <a href="#name-transport-and-session-lifet" class="internal xref">Transport and Session Lifetime</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="auto internal xref">2.3.3</a>.  <a href="#name-protocol-errors" class="internal xref">Protocol Errors</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-messages" class="internal xref">Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-extensibility" class="internal xref">Extensibility</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-no-polymorphism" class="internal xref">No Polymorphism</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-structure" class="internal xref">Structure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-message-definitions" class="internal xref">Message Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a href="#section-3.4.1" class="auto internal xref">3.4.1</a>.  <a href="#name-session-lifecycle" class="internal xref">Session Lifecycle</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a href="#section-3.4.2" class="auto internal xref">3.4.2</a>.  <a href="#name-publish-subscribe-2" class="internal xref">Publish &amp; Subscribe</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.3">
                    <p id="section-toc.1-1.3.2.4.2.3.1"><a href="#section-3.4.3" class="auto internal xref">3.4.3</a>.  <a href="#name-routed-remote-procedure-cal" class="internal xref">Routed Remote Procedure Calls</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-message-codes-and-direction" class="internal xref">Message Codes and Direction</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="auto internal xref">3.6</a>.  <a href="#name-extension-messages" class="internal xref">Extension Messages</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="auto internal xref">3.7</a>.  <a href="#name-empty-arguments-and-keyword" class="internal xref">Empty Arguments and Keyword Arguments</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-sessions" class="internal xref">Sessions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-session-establishment" class="internal xref">Session Establishment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="auto internal xref">4.1.1</a>.  <a href="#name-hello-2" class="internal xref">HELLO</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="auto internal xref">4.1.2</a>.  <a href="#name-welcome-2" class="internal xref">WELCOME</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="auto internal xref">4.1.3</a>.  <a href="#name-abort-2" class="internal xref">ABORT</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-session-closing" class="internal xref">Session Closing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="auto internal xref">4.2.1</a>.  <a href="#name-goodbye-2" class="internal xref">GOODBYE</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-publish-and-subscribe" class="internal xref">Publish and Subscribe</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-subscribing-and-unsubscribi" class="internal xref">Subscribing and Unsubscribing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="auto internal xref">5.1.1</a>.  <a href="#name-subscribe-2" class="internal xref">SUBSCRIBE</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="auto internal xref">5.1.2</a>.  <a href="#name-subscribed-2" class="internal xref">SUBSCRIBED</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="auto internal xref">5.1.3</a>.  <a href="#name-subscribe-error" class="internal xref">Subscribe ERROR</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a href="#section-5.1.4" class="auto internal xref">5.1.4</a>.  <a href="#name-unsubscribe-2" class="internal xref">UNSUBSCRIBE</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.5">
                    <p id="section-toc.1-1.5.2.1.2.5.1"><a href="#section-5.1.5" class="auto internal xref">5.1.5</a>.  <a href="#name-unsubscribed-2" class="internal xref">UNSUBSCRIBED</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.6">
                    <p id="section-toc.1-1.5.2.1.2.6.1"><a href="#section-5.1.6" class="auto internal xref">5.1.6</a>.  <a href="#name-unsubscribe-error" class="internal xref">Unsubscribe ERROR</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-publishing-and-events" class="internal xref">Publishing and Events</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-publish-2" class="internal xref">PUBLISH</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-published-2" class="internal xref">PUBLISHED</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="auto internal xref">5.2.3</a>.  <a href="#name-publish-error" class="internal xref">Publish ERROR</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.4">
                    <p id="section-toc.1-1.5.2.2.2.4.1"><a href="#section-5.2.4" class="auto internal xref">5.2.4</a>.  <a href="#name-event-2" class="internal xref">EVENT</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-remote-procedure-calls-2" class="internal xref">Remote Procedure Calls</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-registering-and-unregisteri" class="internal xref">Registering and Unregistering</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="auto internal xref">6.1.1</a>.  <a href="#name-register-2" class="internal xref">REGISTER</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="auto internal xref">6.1.2</a>.  <a href="#name-registered-2" class="internal xref">REGISTERED</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.3">
                    <p id="section-toc.1-1.6.2.1.2.3.1"><a href="#section-6.1.3" class="auto internal xref">6.1.3</a>.  <a href="#name-register-error" class="internal xref">Register ERROR</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.4">
                    <p id="section-toc.1-1.6.2.1.2.4.1"><a href="#section-6.1.4" class="auto internal xref">6.1.4</a>.  <a href="#name-unregister-2" class="internal xref">UNREGISTER</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.5">
                    <p id="section-toc.1-1.6.2.1.2.5.1"><a href="#section-6.1.5" class="auto internal xref">6.1.5</a>.  <a href="#name-unregistered-2" class="internal xref">UNREGISTERED</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.6">
                    <p id="section-toc.1-1.6.2.1.2.6.1"><a href="#section-6.1.6" class="auto internal xref">6.1.6</a>.  <a href="#name-unregister-error" class="internal xref">Unregister ERROR</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-calling-and-invocations" class="internal xref">Calling and Invocations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-call-2" class="internal xref">CALL</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-invocation-2" class="internal xref">INVOCATION</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="auto internal xref">6.2.3</a>.  <a href="#name-yield-2" class="internal xref">YIELD</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="auto internal xref">6.2.4</a>.  <a href="#name-result-2" class="internal xref">RESULT</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="auto internal xref">6.2.5</a>.  <a href="#name-invocation-error" class="internal xref">Invocation ERROR</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.6">
                    <p id="section-toc.1-1.6.2.2.2.6.1"><a href="#section-6.2.6" class="auto internal xref">6.2.6</a>.  <a href="#name-call-error" class="internal xref">Call ERROR</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-caller-leaving-during-an-rp" class="internal xref">Caller Leaving During an RPC Invocation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-callee-leaving-during-an-rp" class="internal xref">Callee Leaving During an RPC Invocation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-model" class="internal xref">Security Model</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-ordering-guarantees" class="internal xref">Ordering Guarantees</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-transport-encryption-and-in" class="internal xref">Transport Encryption and Integrity</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-router-authentication" class="internal xref">Router Authentication</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-client-authentication" class="internal xref">Client Authentication</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="auto internal xref">7.5</a>.  <a href="#name-routers-are-trusted" class="internal xref">Routers are trusted</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-basic-profile-uris" class="internal xref">Basic Profile URIs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="auto internal xref">8.1.1</a>.  <a href="#name-fundamental" class="internal xref">Fundamental</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.2">
                    <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="auto internal xref">8.1.2</a>.  <a href="#name-authentication-and-authoriz" class="internal xref">Authentication and Authorization (AA)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.3">
                    <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="auto internal xref">8.1.3</a>.  <a href="#name-remote-procedure-calls-3" class="internal xref">Remote Procedure Calls</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.4">
                    <p id="section-toc.1-1.8.2.1.2.4.1"><a href="#section-8.1.4" class="auto internal xref">8.1.4</a>.  <a href="#name-publish-and-subscribe-2" class="internal xref">Publish and Subscribe</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-conformance-requirements" class="internal xref">Conformance Requirements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-terminology-and-other-conve" class="internal xref">Terminology and Other Conventions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="wamp-basic-profile">
<section id="section-1">
      <h2 id="name-wamp-basic-profile">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-wamp-basic-profile" class="section-name selfRef">WAMP Basic Profile</a>
      </h2>
<p id="section-1-1">This document defines the Web Application Messaging Protocol (WAMP). WAMP is a routed protocol that provides two messaging patterns: Publish &amp; Subscribe and routed Remote Procedure Calls. It is intended to connect application components in distributed applications. WAMP uses WebSocket as its default transport, but can be transmitted via any other protocol that allows for ordered, reliable, bi-directional, and message-oriented communications.<a href="#section-1-1" class="pilcrow">¶</a></p>
<div id="basic-vs-advanced-profile">
<section id="section-1.1">
        <h3 id="name-basic-vs-advanced-profile">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-basic-vs-advanced-profile" class="section-name selfRef">Basic vs Advanced Profile</a>
        </h3>
<p id="section-1.1-1">This document first describes a Basic Profile for WAMP in its entirety, before describing an Advanced Profile which extends the basic functionality of WAMP.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">The separation into Basic and Advanced Profiles is intended to extend the reach of the protocol. It allows implementations to start out with a minimal, yet operable and useful set of features, and to expand that set from there. It also allows implementations that are tailored for resource-constrained environments, where larger feature sets would not be possible. Here implementers can weigh between resource constraints and functionality requirements, then implement an optimal feature set for the circumstances.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">Advanced Profile features are announced during session establishment, so that different implementations can adjust their interactions to fit the commonly supported feature set.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="introduction">
<section id="section-1.2">
        <h3 id="name-introduction">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
        </h3>
<p id="section-1.2-1"><em>This section is non-normative.</em><a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">The WebSocket protocol brings bi-directional real-time connections to the browser. It defines an API at the message level, requiring users who want to use WebSocket connections in their applications to define their own semantics on top of it.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">The Web Application Messaging Protocol (WAMP) is intended to provide application developers with the semantics they need to handle messaging between components in distributed applications.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<p id="section-1.2-4">WAMP was initially defined as a WebSocket sub-protocol, which provided Publish &amp; Subscribe (PubSub) functionality as well as Remote Procedure Calls (RPC) for procedures implemented in a WAMP router. Feedback from implementers and users of this was included in a second version of the protocol which this document defines. Among the changes was that WAMP can now run over any transport which is message-oriented, ordered, reliable, and bi-directional.<a href="#section-1.2-4" class="pilcrow">¶</a></p>
<p id="section-1.2-5">WAMP is a routed protocol, with all components connecting to a <em>WAMP Router</em>, where the WAMP Router performs message routing between the components.<a href="#section-1.2-5" class="pilcrow">¶</a></p>
<p id="section-1.2-6">WAMP provides two messaging patterns: <em>Publish &amp; Subscribe</em> and <em>routed Remote Procedure Calls</em>.<a href="#section-1.2-6" class="pilcrow">¶</a></p>
<p id="section-1.2-7">Publish &amp; Subscribe (PubSub) is an established messaging pattern where a component, the <em>Subscriber</em>, informs the router that it wants to receive information on a topic (i.e., it subscribes to a topic). Another component, a <em>Publisher</em>, can then publish to this topic, and the router distributes events to all Subscribers.<a href="#section-1.2-7" class="pilcrow">¶</a></p>
<p id="section-1.2-8">Routed Remote Procedure Calls (RPCs) rely on the same sort of decoupling that is used by the Publish &amp; Subscribe pattern. A component, the <em>Callee</em>, announces to the router that it provides a certain procedure, identified by a procedure name. Other components, <em>Callers</em>, can then call the procedure, with the router invoking the procedure on the Callee, receiving the procedure's result, and then forwarding this result back to the Caller. Routed RPCs differ from traditional client-server RPCs in that the router serves as an intermediary between the Caller and the Callee.<a href="#section-1.2-8" class="pilcrow">¶</a></p>
<p id="section-1.2-9">The decoupling in routed RPCs arises from the fact that the Caller is no longer required to have knowledge of the Callee; it merely needs to know the identifier of the procedure it wants to call. There is also no longer a need for a direct connection between the caller and the callee, since all traffic is routed. This enables the calling of procedures in components which are not reachable externally (e.g. on a NATted connection) but which can establish an outgoing connection to the WAMP router.<a href="#section-1.2-9" class="pilcrow">¶</a></p>
<p id="section-1.2-10">Combining these two patterns into a single protocol allows it to be used for the entire messaging requirements of an application, thus reducing technology stack complexity, as well as networking overheads.<a href="#section-1.2-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="protocol-overview">
<section id="section-1.3">
        <h3 id="name-protocol-overview">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-protocol-overview" class="section-name selfRef">Protocol Overview</a>
        </h3>
<p id="section-1.3-1"><em>This section is non-normative.</em><a href="#section-1.3-1" class="pilcrow">¶</a></p>
<div id="realms-sessions-and-transports">
<section id="section-1.3.1">
          <h4 id="name-realms-sessions-and-transpo">
<a href="#section-1.3.1" class="section-number selfRef">1.3.1. </a><a href="#name-realms-sessions-and-transpo" class="section-name selfRef">Realms, Sessions and Transports</a>
          </h4>
<p id="section-1.3.1-1">A Realm is a WAMP routing and administrative domain, optionally protected by authentication and authorization. WAMP messages are only routed within a Realm.<a href="#section-1.3.1-1" class="pilcrow">¶</a></p>
<p id="section-1.3.1-2">A Session is a transient conversation between two Peers attached to a Realm and running over a Transport.<a href="#section-1.3.1-2" class="pilcrow">¶</a></p>
<p id="section-1.3.1-3">A Transport connects two WAMP Peers and provides a channel over which WAMP messages for a WAMP Session can flow in both directions.<a href="#section-1.3.1-3" class="pilcrow">¶</a></p>
<p id="section-1.3.1-4">WAMP can run over any Transport which is message-based, bidirectional,  reliable and ordered.<a href="#section-1.3.1-4" class="pilcrow">¶</a></p>
<p id="section-1.3.1-5">The default transport for WAMP is WebSocket <span>[<a href="#RFC6455" class="cite xref">RFC6455</a>]</span>, where WAMP is an <a href="http://www.iana.org/assignments/websocket/websocket.xml">officially registered</a> subprotocol.<a href="#section-1.3.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="peers-and-roles">
<section id="section-1.3.2">
          <h4 id="name-peers-and-roles">
<a href="#section-1.3.2" class="section-number selfRef">1.3.2. </a><a href="#name-peers-and-roles" class="section-name selfRef">Peers and Roles</a>
          </h4>
<p id="section-1.3.2-1">A WAMP Session connects two Peers, a Client and a Router. Each WAMP Peer MUST implement one role, and MAY implement more roles.<a href="#section-1.3.2-1" class="pilcrow">¶</a></p>
<p id="section-1.3.2-2">A Client MAY implement any combination of the Roles:<a href="#section-1.3.2-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1.3.2-3.1">Callee<a href="#section-1.3.2-3.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.2-3.2">Caller<a href="#section-1.3.2-3.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.2-3.3">Publisher<a href="#section-1.3.2-3.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.2-3.4">Subscriber<a href="#section-1.3.2-3.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-1.3.2-4">and a Router MAY implement either or both of the Roles:<a href="#section-1.3.2-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1.3.2-5.1">Dealer<a href="#section-1.3.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.2-5.2">Broker<a href="#section-1.3.2-5.2" class="pilcrow">¶</a>
</li>
          </ul>
<blockquote id="section-1.3.2-6">
            <p id="section-1.3.2-6.1">This document describes WAMP as in client-to-router communication. Direct client-to-client communication is not supported by WAMP. Router-to-router communication MAY be defined by a specific router implementation.<a href="#section-1.3.2-6.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-1.3.2-7">A <em>Router</em> is a component which implements one or both of the Broker and Dealer roles. A <em>Client</em> is a component which implements any or all of the Subscriber, Publisher, Caller, or Callee roles.<a href="#section-1.3.2-7" class="pilcrow">¶</a></p>
<p id="section-1.3.2-8">WAMP <em>Connections</em> are established by Clients to a Router. Connections can use any <em>transport</em> that is message-based, ordered, reliable and bi-directional, with WebSocket as the default transport.<a href="#section-1.3.2-8" class="pilcrow">¶</a></p>
<p id="section-1.3.2-9">WAMP <em>Sessions</em> are established over a WAMP Connection. A WAMP Session is joined to a <em>Realm</em> on a Router. Routing occurs only between WAMP Sessions that have joined the same Realm.<a href="#section-1.3.2-9" class="pilcrow">¶</a></p>
<p id="section-1.3.2-10">The <em>WAMP Basic Profile</em> defines the parts of the protocol that are required to establish a WAMP connection, as well as for basic interactions between the four client and two router roles. WAMP implementations are required to implement the Basic Profile, at minimum.<a href="#section-1.3.2-10" class="pilcrow">¶</a></p>
<p id="section-1.3.2-11">The <em>WAMP Advanced Profile</em> defines additions to the Basic Profile which greatly extend the utility of WAMP in real-world applications. WAMP implementations may support any subset of the Advanced Profile features. They are required to announce those supported features during session establishment.<a href="#section-1.3.2-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="publish-subscribe">
<section id="section-1.3.3">
          <h4 id="name-publish-subscribe">
<a href="#section-1.3.3" class="section-number selfRef">1.3.3. </a><a href="#name-publish-subscribe" class="section-name selfRef">Publish &amp; Subscribe</a>
          </h4>
<p id="section-1.3.3-1">The Publish &amp; Subscribe ("PubSub") messaging pattern involves peers of three different roles:<a href="#section-1.3.3-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1.3.3-2.1">Subscriber (Client)<a href="#section-1.3.3-2.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.3-2.2">Publisher (Client)<a href="#section-1.3.3-2.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.3-2.3">Broker (Router)<a href="#section-1.3.3-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-1.3.3-3">A Publisher publishes events to topics by providing the topic URI and any payload for the event. Subscribers of the topic will receive the event together with the event payload.<a href="#section-1.3.3-3" class="pilcrow">¶</a></p>
<p id="section-1.3.3-4">Subscribers subscribe to topics they are interested in with Brokers. Publishers initiate publication first at Brokers. Brokers route events incoming from Publishers to Subscribers that are subscribed to respective topics.<a href="#section-1.3.3-4" class="pilcrow">¶</a></p>
<p id="section-1.3.3-5">The Publisher and Subscriber will usually run application code, while the Broker works as a generic router for events decoupling Publishers from Subscribers.<a href="#section-1.3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="remote-procedure-calls">
<section id="section-1.3.4">
          <h4 id="name-remote-procedure-calls">
<a href="#section-1.3.4" class="section-number selfRef">1.3.4. </a><a href="#name-remote-procedure-calls" class="section-name selfRef">Remote Procedure Calls</a>
          </h4>
<p id="section-1.3.4-1">The (routed) Remote Procedure Call ("RPC") messaging pattern involves peers of three different roles:<a href="#section-1.3.4-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-1.3.4-2.1">Callee (Client)<a href="#section-1.3.4-2.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.4-2.2">Caller (Client)<a href="#section-1.3.4-2.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-1.3.4-2.3">Dealer (Router)<a href="#section-1.3.4-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-1.3.4-3">A Caller issues calls to remote procedures by providing the procedure URI and any arguments for the call.
The Callee will execute the procedure using the supplied arguments to the call and return the result of the call to the Caller.<a href="#section-1.3.4-3" class="pilcrow">¶</a></p>
<p id="section-1.3.4-4">Callees register procedures they provide with Dealers. Callers initiate procedure calls first to Dealers. Dealers route calls incoming from Callers to Callees implementing the procedure called, and route call results back from Callees to Callers.<a href="#section-1.3.4-4" class="pilcrow">¶</a></p>
<p id="section-1.3.4-5">The Caller and Callee will usually run application code, while the Dealer works as a generic router for remote procedure calls decoupling Callers and Callees.<a href="#section-1.3.4-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="design-aspects">
<section id="section-1.4">
        <h3 id="name-design-aspects">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-design-aspects" class="section-name selfRef">Design Aspects</a>
        </h3>
<p id="section-1.4-1"><em>This section is non-normative.</em><a href="#section-1.4-1" class="pilcrow">¶</a></p>
<p id="section-1.4-2">WAMP was designed to be performant, safe and easy to implement. Its entire design was driven by a implement, get feedback, adjust cycle.<a href="#section-1.4-2" class="pilcrow">¶</a></p>
<p id="section-1.4-3">An initial version of the protocol was publicly released in March 2012. The intent was to gain insight through implementation and use, and integrate these into a second version of the protocol, where there would be no regard for compatibility between the two versions. Several interoperable, independent implementations were released, and feedback from the implementers and users was collected.<a href="#section-1.4-3" class="pilcrow">¶</a></p>
<p id="section-1.4-4">The second version of the protocol, which this RFC covers, integrates this feedback. Routed Remote Procedure Calls are one outcome of this, where the initial version of the protocol only allowed the calling of procedures provided by the router. Another, related outcome was the strict separation of routing and application logic.<a href="#section-1.4-4" class="pilcrow">¶</a></p>
<p id="section-1.4-5">While WAMP was originally developed to use WebSocket as a transport, with JSON for serialization, experience in the field revealed that other transports and serialization formats were better suited to some use cases. For instance, with the use of WAMP in the Internet of Things sphere, resource constraints play a much larger role than in the browser, so any reduction of resource usage in WAMP implementations counts. This lead to the decoupling of WAMP from any particular transport or serialization, with the establishment of minimum requirements for both.<a href="#section-1.4-5" class="pilcrow">¶</a></p>
<div id="application-code">
<section id="section-1.4.1">
          <h4 id="name-application-code">
<a href="#section-1.4.1" class="section-number selfRef">1.4.1. </a><a href="#name-application-code" class="section-name selfRef">Application Code</a>
          </h4>
<p id="section-1.4.1-1">WAMP is designed for application code to run within Clients, i.e. <em>Peers</em> having the roles Callee, Caller, Publisher, and Subscriber.<a href="#section-1.4.1-1" class="pilcrow">¶</a></p>
<p id="section-1.4.1-2">Routers, i.e. Peers of the roles Brokers and Dealers are responsible for <strong>generic call and event routing</strong> and do not run application code.<a href="#section-1.4.1-2" class="pilcrow">¶</a></p>
<p id="section-1.4.1-3">This allows the transparent exchange of Broker and Dealer implementations without affecting the application and to distribute and deploy application components flexibly.<a href="#section-1.4.1-3" class="pilcrow">¶</a></p>
<blockquote id="section-1.4.1-4">
            <p id="section-1.4.1-4.1">Note that a <strong>program</strong> that implements, for instance, the Dealer role might at the same time implement, say, a built-in Callee. It is the Dealer and Broker that are generic, not the program.<a href="#section-1.4.1-4.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
<div id="language-agnostic">
<section id="section-1.4.2">
          <h4 id="name-language-agnostic">
<a href="#section-1.4.2" class="section-number selfRef">1.4.2. </a><a href="#name-language-agnostic" class="section-name selfRef">Language Agnostic</a>
          </h4>
<p id="section-1.4.2-1">WAMP is language agnostic, i.e. can be implemented in any programming language. At the level of arguments that may be part of a WAMP message, WAMP takes a 'superset of all' approach. WAMP implementations may support features of the implementing language for use in arguments, e.g. keyword arguments.<a href="#section-1.4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="symmetric-messaging">
<section id="section-1.4.3">
          <h4 id="name-symmetric-messaging">
<a href="#section-1.4.3" class="section-number selfRef">1.4.3. </a><a href="#name-symmetric-messaging" class="section-name selfRef">Symmetric Messaging</a>
          </h4>
<p id="section-1.4.3-1">It is important to note that though the establishment of a Transport might have a inherent asymmetry (like a TCP client establishing a WebSocket connection to a server), and Clients establish WAMP sessions by attaching to Realms on Routers, WAMP itself is designed to be fully symmetric for application components.<a href="#section-1.4.3-1" class="pilcrow">¶</a></p>
<p id="section-1.4.3-2">After the transport and a session have been established, any application component may act as Caller, Callee, Publisher and Subscriber at the same time. And Routers provide the fabric on top of which WAMP runs a symmetric application messaging service.<a href="#section-1.4.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="peers-with-multiple-roles">
<section id="section-1.4.4">
          <h4 id="name-peers-with-multiple-roles">
<a href="#section-1.4.4" class="section-number selfRef">1.4.4. </a><a href="#name-peers-with-multiple-roles" class="section-name selfRef">Peers with multiple Roles</a>
          </h4>
<p id="section-1.4.4-1">Note that Peers might implement more than one role: e.g. a Peer might act as Caller, Publisher and Subscriber at the same time. Another Peer might act as both a Broker and a Dealer.<a href="#section-1.4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relationship-to-websocket">
<section id="section-1.4.5">
          <h4 id="name-relationship-to-websocket">
<a href="#section-1.4.5" class="section-number selfRef">1.4.5. </a><a href="#name-relationship-to-websocket" class="section-name selfRef">Relationship to WebSocket</a>
          </h4>
<p id="section-1.4.5-1">WAMP uses WebSocket as its default transport binding, and is a registered WebSocket subprotocol.<a href="#section-1.4.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="building-blocks">
<section id="section-2">
      <h2 id="name-building-blocks">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-building-blocks" class="section-name selfRef">Building Blocks</a>
      </h2>
<p id="section-2-1">WAMP is defined with respect to the following building blocks<a href="#section-2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-2-2">
<li id="section-2-2.1">Identifiers<a href="#section-2-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-2-2.2">Serializers<a href="#section-2-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-2-2.3">Transports<a href="#section-2-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-2-3">For each building block, WAMP only assumes a defined set of requirements, which allows to run WAMP variants with different concrete bindings.<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="identifiers">
<section id="section-2.1">
        <h3 id="name-identifiers">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-identifiers" class="section-name selfRef">Identifiers</a>
        </h3>
<div id="uris">
<section id="section-2.1.1">
          <h4 id="name-uris">
<a href="#section-2.1.1" class="section-number selfRef">2.1.1. </a><a href="#name-uris" class="section-name selfRef">URIs</a>
          </h4>
<p id="section-2.1.1-1">WAMP needs to identify the following persistent resources:<a href="#section-2.1.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-2.1.1-2">
<li id="section-2.1.1-2.1">Topics<a href="#section-2.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-2.1.1-2.2">Procedures<a href="#section-2.1.1-2.2" class="pilcrow">¶</a>
</li>
            <li id="section-2.1.1-2.3">Errors<a href="#section-2.1.1-2.3" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-2.1.1-3">These are identified in WAMP using Uniform Resource Identifiers (URIs) <span>[<a href="#RFC3986" class="cite xref">RFC3986</a>]</span> that MUST be Unicode strings.<a href="#section-2.1.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1.1-4">When using JSON as WAMP serialization format, URIs (as other strings) are transmitted in UTF-8 <span>[<a href="#RFC3629" class="cite xref">RFC3629</a>]</span> encoding.<a href="#section-2.1.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1.1-5"><em>Examples</em><a href="#section-2.1.1-5" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.1-6.1">
              <code>com.myapp.mytopic1</code><a href="#section-2.1.1-6.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.1-6.2">
              <code>com.myapp.myprocedure1</code><a href="#section-2.1.1-6.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.1-6.3">
              <code>com.myapp.myerror1</code><a href="#section-2.1.1-6.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.1.1-7">The URIs are understood to form a single, global, hierarchical namespace for WAMP. The namespace is unified for topics, procedures and errors, that is these different resource types do NOT have separate namespaces.<a href="#section-2.1.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1.1-8">To avoid resource naming conflicts, the package naming convention from Java is used, where URIs SHOULD begin with (reversed) domain names owned by the organization defining the URI.<a href="#section-2.1.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1.1-9"><strong>Relaxed/Loose URIs</strong><a href="#section-2.1.1-9" class="pilcrow">¶</a></p>
<p id="section-2.1.1-10">URI components (the parts between two <code>.</code>s, the head part up to the first <code>.</code>, the tail part after the last <code>.</code>) MUST NOT contain a <code>.</code>, <code>#</code> or whitespace characters and MUST NOT be empty (zero-length strings).<a href="#section-2.1.1-10" class="pilcrow">¶</a></p>
<p id="section-2.1.1-11">The restriction not to allow <code>.</code> in component strings is due to the fact that <code>.</code> is used to separate components, and WAMP associates semantics with resource hierarchies, such as in pattern-based subscriptions that are part of the Advanced Profile. The restriction not to allow empty (zero-length) strings as components is due to the fact that this may be used to denote wildcard components with pattern-based subscriptions and registrations in the Advanced Profile. The character <code>#</code> is not allowed since this is reserved for internal use by Dealers and Brokers.<a href="#section-2.1.1-11" class="pilcrow">¶</a></p>
<p id="section-2.1.1-12">As an example, the following regular expression could be used in Python to check URIs according to the above rules, when <strong>NO empty URI components are allowed</strong>:<a href="#section-2.1.1-12" class="pilcrow">¶</a></p>
<div class="lang-python sourcecode" id="section-2.1.1-13">
<pre>pattern = re.compile(r"^([^\s\.#]+\.)*([^\s\.#]+)$")
</pre><a href="#section-2.1.1-13" class="pilcrow">¶</a>
</div>
<p id="section-2.1.1-14">When <strong>empty URI components are allowed</strong> (which is the case for specific messages that are part of the Advanced Profile), this following regular expression can be used (shown used in Python):<a href="#section-2.1.1-14" class="pilcrow">¶</a></p>
<div class="lang-python sourcecode" id="section-2.1.1-15">
<pre>pattern = re.compile(r"^(([^\s\.#]+\.)|\.)*([^\s\.#]+)?$")
</pre><a href="#section-2.1.1-15" class="pilcrow">¶</a>
</div>
<p id="section-2.1.1-16"><strong>Strict URIs</strong><a href="#section-2.1.1-16" class="pilcrow">¶</a></p>
<p id="section-2.1.1-17">While the above rules MUST be followed, following a stricter URI rule is recommended: URI components SHOULD only contain lower-case letters, digits and <code>_</code>.<a href="#section-2.1.1-17" class="pilcrow">¶</a></p>
<p id="section-2.1.1-18">As an example, the following regular expression could be used in Python to check URIs according to the above rules, when <strong>NO empty URI components are allowed</strong>:<a href="#section-2.1.1-18" class="pilcrow">¶</a></p>
<div class="lang-python sourcecode" id="section-2.1.1-19">
<pre>pattern = re.compile(r"^([0-9a-z_]+\.)*([0-9a-z_]+)$")
</pre><a href="#section-2.1.1-19" class="pilcrow">¶</a>
</div>
<p id="section-2.1.1-20">When <strong>empty URI components are allowed</strong>, which is the case for specific messages that are part of the Advanced Profile, the following regular expression can be used (shown in Python):<a href="#section-2.1.1-20" class="pilcrow">¶</a></p>
<div class="lang-python sourcecode" id="section-2.1.1-21">
<pre>pattern = re.compile(r"^(([0-9a-z_]+\.)|\.)*([0-9a-z_]+)?$")
</pre><a href="#section-2.1.1-21" class="pilcrow">¶</a>
</div>
<p id="section-2.1.1-22">Following the suggested regular expression for <strong>strict URIs</strong> will make URI components valid identifiers in most languages (modulo URIs starting with a digit and language keywords) and the use of lower-case only will make those identifiers unique in languages that have case-insensitive identifiers. Following this suggestion can allow implementations to map topics, procedures and errors to the language environment in a completely transparent way.<a href="#section-2.1.1-22" class="pilcrow">¶</a></p>
<p id="section-2.1.1-23"><strong>Reserved URIs</strong><a href="#section-2.1.1-23" class="pilcrow">¶</a></p>
<p id="section-2.1.1-24">Further, application URIs MUST NOT use <code>wamp</code> as a first URI component, since this is reserved for URIs predefined with the WAMP protocol itself.<a href="#section-2.1.1-24" class="pilcrow">¶</a></p>
<p id="section-2.1.1-25"><em>Examples</em><a href="#section-2.1.1-25" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.1-26.1">
              <code>wamp.error.not_authorized</code><a href="#section-2.1.1-26.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.1-26.2">
              <code>wamp.error.procedure_already_exists</code><a href="#section-2.1.1-26.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="ids">
<section id="section-2.1.2">
          <h4 id="name-ids">
<a href="#section-2.1.2" class="section-number selfRef">2.1.2. </a><a href="#name-ids" class="section-name selfRef">IDs</a>
          </h4>
<p id="section-2.1.2-1">WAMP needs to identify the following ephemeral entities each in the scope noted:<a href="#section-2.1.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-2.1.2-2">
<li id="section-2.1.2-2.1">Sessions (<em>global scope</em>)<a href="#section-2.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-2.1.2-2.2">Publications (<em>global scope</em>)<a href="#section-2.1.2-2.2" class="pilcrow">¶</a>
</li>
            <li id="section-2.1.2-2.3">Subscriptions (<em>router scope</em>)<a href="#section-2.1.2-2.3" class="pilcrow">¶</a>
</li>
            <li id="section-2.1.2-2.4">Registrations (<em>router scope</em>)<a href="#section-2.1.2-2.4" class="pilcrow">¶</a>
</li>
            <li id="section-2.1.2-2.5">Requests (<em>session scope</em>)<a href="#section-2.1.2-2.5" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-2.1.2-3">These are identified in WAMP using IDs that are integers between (inclusive) <strong>1</strong> and <strong>2<sup>53</sup></strong> (9007199254740992):<a href="#section-2.1.2-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.2-4.1">IDs in the <em>global scope</em> MUST be drawn <em>randomly</em> from a <em>uniform distribution</em> over the complete range [1, 2^53]<a href="#section-2.1.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-4.2">IDs in the <em>router scope</em> CAN be chosen freely by the specific router implementation<a href="#section-2.1.2-4.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-4.3">IDs in the <em>session scope</em> MUST be incremented by 1 beginning with 1 and wrapping to 1 after it reached 2^53 (for each direction - <em>Client-to-Router</em> and <em>Router-to-Client</em>) {#session_scope_id}<a href="#section-2.1.2-4.3" class="pilcrow">¶</a>
</li>
          </ul>
<blockquote id="section-2.1.2-5">
            <p id="section-2.1.2-5.1">The reason to choose the specific lower bound as 1 rather than 0 is that 0 is the null-like (falsy) value for many programming languages.
The reason to choose the specific upper bound is that 2^53 is the largest integer such that this integer and <em>all</em> (positive) smaller integers can be represented exactly in IEEE-754 doubles. Some languages (e.g. JavaScript) use doubles as their sole number type. Most languages do have signed and unsigned 64-bit integer types that both can hold any value from the specified range.<a href="#section-2.1.2-5.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-2.1.2-6">The following is a complete list of usage of IDs in the three categories for all WAMP messages. For a full definition of these see <a href="#messages">messages section</a>.<a href="#section-2.1.2-6" class="pilcrow">¶</a></p>
<p id="section-2.1.2-7"><strong>Global Scope IDs</strong><a href="#section-2.1.2-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.2-8.1">
              <code>WELCOME.Session</code><a href="#section-2.1.2-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-8.2">
              <code>PUBLISHED.Publication</code><a href="#section-2.1.2-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-8.3">
              <code>EVENT.Publication</code><a href="#section-2.1.2-8.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.1.2-9"><strong>Router Scope IDs</strong><a href="#section-2.1.2-9" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.2-10.1">
              <code>EVENT.Subscription</code><a href="#section-2.1.2-10.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-10.2">
              <code>SUBSCRIBED.Subscription</code><a href="#section-2.1.2-10.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-10.3">
              <code>REGISTERED.Registration</code><a href="#section-2.1.2-10.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-10.4">
              <code>UNSUBSCRIBE.Subscription</code><a href="#section-2.1.2-10.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-10.5">
              <code>UNREGISTER.Registration</code><a href="#section-2.1.2-10.5" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-10.6">
              <code>INVOCATION.Registration</code><a href="#section-2.1.2-10.6" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.1.2-11"><strong>Session Scope IDs</strong> {#session_scope_ids}<a href="#section-2.1.2-11" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.2-12.1">
              <code>SUBSCRIBE.Request</code><a href="#section-2.1.2-12.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.2">
              <code>SUBSCRIBED.Request</code> (mirrored <code>SUBSCRIBE.Request</code>)<a href="#section-2.1.2-12.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.3">
              <code>UNSUBSCRIBE.Request</code><a href="#section-2.1.2-12.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.4">
              <code>UNSUBSCRIBED.Request</code> (mirrored <code>UNSUBSCRIBE.Request</code>)<a href="#section-2.1.2-12.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.5">
              <code>PUBLISH.Request</code><a href="#section-2.1.2-12.5" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.6">
              <code>PUBLISHED.Request</code> (mirrored <code>PUBLISH.Request</code>)<a href="#section-2.1.2-12.6" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.7">
              <code>REGISTER.Request</code><a href="#section-2.1.2-12.7" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.8">
              <code>REGISTERED.Request</code> (mirrored <code>REGISTER.Request</code>)<a href="#section-2.1.2-12.8" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.9">
              <code>UNREGISTER.Request</code><a href="#section-2.1.2-12.9" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.10">
              <code>UNREGISTERED.Request</code> (mirrored <code>UNREGISTER.Request</code>)<a href="#section-2.1.2-12.10" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.11">
              <code>CALL.Request</code><a href="#section-2.1.2-12.11" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.12">
              <code>RESULT.Request</code> (mirrored <code>CALL.Request</code>)<a href="#section-2.1.2-12.12" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.13">
              <code>CANCEL.Request</code> (mirrored <code>CALL.Request</code>)<a href="#section-2.1.2-12.13" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.14">
              <code>INVOCATION.Request</code><a href="#section-2.1.2-12.14" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.15">
              <code>YIELD.Request</code> (mirrored <code>INVOCATION.Request</code>)<a href="#section-2.1.2-12.15" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.16">
              <code>INTERRUPT.Request</code> (mirrored <code>INVOCATION.Request</code>)<a href="#section-2.1.2-12.16" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.2-12.17">
              <code>ERROR.Request</code> (mirrored original request ID)<a href="#section-2.1.2-12.17" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="serializers">
<section id="section-2.2">
        <h3 id="name-serializers">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-serializers" class="section-name selfRef">Serializers</a>
        </h3>
<p id="section-2.2-1">WAMP is a message based protocol that requires serialization of messages to octet sequences to be sent out on the wire.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">A message serialization format is assumed that (at least) provides the following types:<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.2-3.1">
            <code>integer</code> (non-negative)<a href="#section-2.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-2.2-3.2">
            <code>string</code> (UTF-8 encoded Unicode)<a href="#section-2.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-2.2-3.3">
            <code>bool</code><a href="#section-2.2-3.3" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-2.2-3.4">
            <code>list</code><a href="#section-2.2-3.4" class="pilcrow">¶</a>
</li>
          <li class="compact" id="section-2.2-3.5">
            <code>dict</code> (with string keys)<a href="#section-2.2-3.5" class="pilcrow">¶</a>
</li>
        </ul>
<blockquote id="section-2.2-4">
          <p id="section-2.2-4.1">WAMP <em>itself</em> only uses the above types, e.g. it does not use the JSON data types <code>number</code> (non-integer) and <code>null</code>. The <em>application payloads</em> transmitted by WAMP (e.g. in call arguments or event payloads) may use other types a concrete serialization format supports.<a href="#section-2.2-4.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-2.2-5">There is no required serialization or set of serializations for WAMP implementations (but each implementation MUST, of course, implement at least one serialization format). Routers SHOULD implement more than one serialization format, enabling components using different kinds of serializations to connect to each other.<a href="#section-2.2-5" class="pilcrow">¶</a></p>
<p id="section-2.2-6">The WAMP Basic Profile defines the following bindings for message serialization:<a href="#section-2.2-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-2.2-7">
<li id="section-2.2-7.1">JSON<a href="#section-2.2-7.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-7.2">MessagePack<a href="#section-2.2-7.2" class="pilcrow">¶</a>
</li>
          <li id="section-2.2-7.3">CBOR<a href="#section-2.2-7.3" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-2.2-8">Other bindings for serialization may be defined in the WAMP Advanced Profile.<a href="#section-2.2-8" class="pilcrow">¶</a></p>
<p id="section-2.2-9">With JSON serialization, each WAMP message is serialized according to the JSON specification as described in <span>[<a href="#RFC7159" class="cite xref">RFC7159</a>]</span>.<a href="#section-2.2-9" class="pilcrow">¶</a></p>
<p id="section-2.2-10">Further, binary data follows a convention for conversion to JSON strings. For details see the Appendix.<a href="#section-2.2-10" class="pilcrow">¶</a></p>
<p id="section-2.2-11">With <a href="https://msgpack.org/">MessagePack</a> serialization, each WAMP message is serialized according to the <a href="https://github.com/msgpack/msgpack/blob/master/spec.md">MessagePack specification</a>.<a href="#section-2.2-11" class="pilcrow">¶</a></p>
<p id="section-2.2-12">Version 5 or later of MessagePack MUST BE used, since this version is able to differentiate between strings and binary values.<a href="#section-2.2-12" class="pilcrow">¶</a></p>
<p id="section-2.2-13">With CBOR serialization, each WAMP message is serialized according to the CBOR specification as described in <span>[<a href="#RFC8949" class="cite xref">RFC8949</a>]</span>.<a href="#section-2.2-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transports">
<section id="section-2.3">
        <h3 id="name-transports">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-transports" class="section-name selfRef">Transports</a>
        </h3>
<p id="section-2.3-1">WAMP assumes a transport with the following characteristics:<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-2.3-2">
<li id="section-2.3-2.1">message-based<a href="#section-2.3-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.3-2.2">reliable<a href="#section-2.3-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-2.3-2.3">ordered<a href="#section-2.3-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-2.3-2.4">bidirectional (full-duplex)<a href="#section-2.3-2.4" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-2.3-3">There is no required transport or set of transports for WAMP implementations (but each implementation MUST, of course, implement at least one transport). Routers SHOULD implement more than one transport, enabling components using different kinds of transports to connect in an application.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
<div id="websocket-transport">
<section id="section-2.3.1">
          <h4 id="name-websocket-transport">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-websocket-transport" class="section-name selfRef">WebSocket Transport</a>
          </h4>
<p id="section-2.3.1-1">The default transport binding for WAMP is WebSocket (<span>[<a href="#RFC6455" class="cite xref">RFC6455</a>]</span>).<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.1-2">In the Basic Profile, WAMP messages are transmitted as WebSocket messages: each WAMP message is transmitted as a separate WebSocket message (not WebSocket frame). The Advanced Profile may define other modes, e.g. a <strong>batched mode</strong> where multiple WAMP messages are transmitted via single WebSocket message.<a href="#section-2.3.1-2" class="pilcrow">¶</a></p>
<p id="section-2.3.1-3">The WAMP protocol MUST BE negotiated during the WebSocket opening handshake between Peers using the WebSocket subprotocol negotiation mechanism (<span>[<a href="#RFC6455" class="cite xref">RFC6455</a>]</span> section 4).<a href="#section-2.3.1-3" class="pilcrow">¶</a></p>
<p id="section-2.3.1-4">WAMP uses the following WebSocket subprotocol identifiers (for unbatched modes):<a href="#section-2.3.1-4" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.3.1-5.1">
              <code>wamp.2.json</code><a href="#section-2.3.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.1-5.2">
              <code>wamp.2.msgpack</code><a href="#section-2.3.1-5.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.1-5.3">
              <code>wamp.2.cbor</code><a href="#section-2.3.1-5.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.3.1-6">With <code>wamp.2.json</code>, <em>all</em> WebSocket messages MUST BE of type <strong>text</strong> (UTF8 encoded payload) and use the JSON message serialization.<a href="#section-2.3.1-6" class="pilcrow">¶</a></p>
<p id="section-2.3.1-7">With <code>wamp.2.msgpack</code>, <em>all</em> WebSocket messages MUST BE of type <strong>binary</strong> and use the MessagePack message serialization.<a href="#section-2.3.1-7" class="pilcrow">¶</a></p>
<p id="section-2.3.1-8">With <code>wamp.2.cbor</code>, <em>all</em> WebSocket messages MUST BE of type <strong>binary</strong> and use the CBOR message serialization.<a href="#section-2.3.1-8" class="pilcrow">¶</a></p>
<blockquote id="section-2.3.1-9">
            <p id="section-2.3.1-9.1">To avoid incompatibilities merely due to naming conflicts with WebSocket subprotocol identifiers, implementers SHOULD register identifiers for additional serialization formats with the official WebSocket subprotocol registry.<a href="#section-2.3.1-9.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
<div id="transport-and-session-lifetime">
<section id="section-2.3.2">
          <h4 id="name-transport-and-session-lifet">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-transport-and-session-lifet" class="section-name selfRef">Transport and Session Lifetime</a>
          </h4>
<p id="section-2.3.2-1">WAMP implementations MAY choose to tie the lifetime of the underlying transport connection for a WAMP connection to that of a WAMP session, i.e. establish a new transport-layer connection as part of each new session establishment. They MAY equally choose to allow re-use of a transport connection, allowing subsequent WAMP sessions to be established using the same transport connection.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2-2">The diagram below illustrates the full transport connection and session lifecycle for an implementation which uses WebSocket over TCP as the transport and allows the re-use of a transport connection.<a href="#section-2.3.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.3.2-3">
<pre>    ,------.                                    ,------.
    | Peer |                                    | Peer |
    `--+---'          TCP established           `--+---'
       |&lt;-----------------------------------------&gt;|
       |                                           |
       |               TLS established             |
       |+&lt;---------------------------------------&gt;+|
       |+                                         +|
       |+           WebSocket established         +|
       |+|&lt;-------------------------------------&gt;|+|
       |+|                                       |+|
       |+|            WAMP established           |+|
       |+|+&lt;-----------------------------------&gt;+|+|
       |+|+                                     +|+|
       |+|+                                     +|+|
       |+|+            WAMP closed              +|+|
       |+|+&lt;-----------------------------------&gt;+|+|
       |+|                                       |+|
       |+|                                       |+|
       |+|            WAMP established           |+|
       |+|+&lt;-----------------------------------&gt;+|+|
       |+|+                                     +|+|
       |+|+                                     +|+|
       |+|+            WAMP closed              +|+|
       |+|+&lt;-----------------------------------&gt;+|+|
       |+|                                       |+|
       |+|           WebSocket closed            |+|
       |+|&lt;-------------------------------------&gt;|+|
       |+                                         +|
       |+              TLS closed                 +|
       |+&lt;---------------------------------------&gt;+|
       |                                           |
       |               TCP closed                  |
       |&lt;-----------------------------------------&gt;|
    ,--+---.                                    ,--+---.
    | Peer |                                    | Peer |
    `------'                                    `------'
</pre><a href="#section-2.3.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="protocol_errors">
<section id="section-2.3.3">
          <h4 id="name-protocol-errors">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-protocol-errors" class="section-name selfRef">Protocol Errors</a>
          </h4>
<p id="section-2.3.3-1">WAMP implementations MUST abort sessions (disposing all of their resources such as subscriptions and registrations) on protocol errors caused by offending peers.<a href="#section-2.3.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3-2">Following scenarios have to be considered protocol errors:<a href="#section-2.3.3-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.3.3-3.1">Receiving <code>WELCOME</code> message, after session was established.<a href="#section-2.3.3-3.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.2">Receiving <code>HELLO</code> message, after session was established.<a href="#section-2.3.3-3.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.3">Receiving <code>CHALLENGE</code> message, after session was established.<a href="#section-2.3.3-3.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.4">Receiving <code>GOODBYE</code> message, before session was established.<a href="#section-2.3.3-3.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.5">Receiving <code>ERROR</code> message, before session was established.<a href="#section-2.3.3-3.5" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.6">Receiving <code>ERROR</code> message with invalid REQUEST.Type.<a href="#section-2.3.3-3.6" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.7">Receiving <code>SUBSCRIBED</code> message, before session was established.<a href="#section-2.3.3-3.7" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.8">Receiving <code>UNSUBSCRIBED</code> message, before session was established.<a href="#section-2.3.3-3.8" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.9">Receiving <code>PUBLISHED</code> message, before session was established.<a href="#section-2.3.3-3.9" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.10">Receiving <code>RESULT</code> message, before session was established.<a href="#section-2.3.3-3.10" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.11">Receiving <code>REGISTERED</code> message, before session was established.<a href="#section-2.3.3-3.11" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.12">Receiving <code>UNREGISTERED</code> message, before session was established.<a href="#section-2.3.3-3.12" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.13">Receiving <code>INVOCATION</code> message, before session was established.<a href="#section-2.3.3-3.13" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.14">Receiving <code>YIELD</code> message with invalid INVOCATION.Request.<a href="#section-2.3.3-3.14" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.15">Receiving message with non-<a href="#session_scope_id">sequential</a> <a href="#session_scope_ids">session scope</a> request ID, such as <code>SUBSCRIBE</code>, <code>UNSUBSCRIBE</code>, <code>PUBLISH</code>, <code>REGISTER</code>, <code>UNREGISTER</code>, and <code>CALL</code>. Note that there are exeptions for <code>CALL</code> when the <em>Progressive Call Invocations</em> advanced feature is enabled. See the <em>Progressive Call Invocations</em> section in the advanced profile for details.<a href="#section-2.3.3-3.15" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.16">Receiving protocol incompatible message, such as empty array, invalid WAMP message type id, etc.<a href="#section-2.3.3-3.16" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.17">Catching error during message encoding/decoding.<a href="#section-2.3.3-3.17" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.3.3-3.18">Any other exceptional scenario explicitly defined in any relevant section of this specification below (such as receiving a second <code>HELLO</code> within the lifetime of a session).<a href="#section-2.3.3-3.18" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.3.3-4">In all such cases WAMP implementations:<a href="#section-2.3.3-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-2.3.3-5">
<li id="section-2.3.3-5.1">MUST send an <code>ABORT</code> message to the offending peer, having reason <code>wamp.error.protocol_violation</code> and optional attributes in ABORT.Details such as a human readable error message.<a href="#section-2.3.3-5.1" class="pilcrow">¶</a>
</li>
            <li id="section-2.3.3-5.2">MUST abort the WAMP session by disposing any allocated subscriptions/registrations for that particular client and without waiting for or processing any messages subsequently received from the peer,<a href="#section-2.3.3-5.2" class="pilcrow">¶</a>
</li>
            <li id="section-2.3.3-5.3">SHOULD also drop the WAMP connection at transport level (recommended to prevent denial of service attacks)<a href="#section-2.3.3-5.3" class="pilcrow">¶</a>
</li>
          </ol>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="messages">
<section id="section-3">
      <h2 id="name-messages">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-messages" class="section-name selfRef">Messages</a>
      </h2>
<p id="section-3-1">All WAMP messages are a <code>list</code> with a first element <code>MessageType</code> followed by one or more message type specific elements:<a href="#section-3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-2">
<pre>    [MessageType|integer, ... one or more message type specific
        elements ...]
</pre><a href="#section-3-2" class="pilcrow">¶</a>
</div>
<p id="section-3-3">The notation <code>Element|type</code> denotes a message element named <code>Element</code> of type <code>type</code>, where <code>type</code> is one of<a href="#section-3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-3-4.1">
          <code>uri</code>: a string URI as defined in <a href="#uris">URIs</a><a href="#section-3-4.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-3-4.2">
          <code>id</code>: an integer ID as defined in <a href="#ids">IDs</a><a href="#section-3-4.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-3-4.3">
          <code>integer</code>: a non-negative integer<a href="#section-3-4.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-3-4.4">
          <code>string</code>: a Unicode string, including the empty string<a href="#section-3-4.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-3-4.5">
          <code>bool</code>: a boolean value (<code>true</code> or <code>false</code>) - integers MUST NOT be used instead of boolean value<a href="#section-3-4.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-3-4.6">
          <code>dict</code>: a dictionary (map) where keys MUST be strings, keys MUST be unique and serialization order is undefined (left to the serializer being used)<a href="#section-3-4.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-3-4.7">
          <code>list</code>: a list (array) where items can be again any of this enumeration<a href="#section-3-4.7" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-5"><em>Example</em><a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">A <code>SUBSCRIBE</code> message has the following format<a href="#section-3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-7">
<pre>    [SUBSCRIBE, Request|id, Options|dict, Topic|uri]
</pre><a href="#section-3-7" class="pilcrow">¶</a>
</div>
<p id="section-3-8">Here is an example message conforming to the above format<a href="#section-3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-9">
<pre>    [32, 713845233, {}, "com.myapp.mytopic1"]
</pre><a href="#section-3-9" class="pilcrow">¶</a>
</div>
<div id="extensibility">
<section id="section-3.1">
        <h3 id="name-extensibility">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-extensibility" class="section-name selfRef">Extensibility</a>
        </h3>
<p id="section-3.1-1">Some WAMP messages contain <code>Options|dict</code> or <code>Details|dict</code> elements. This allows for future extensibility and implementations that only provide subsets of functionality by ignoring unimplemented attributes. Keys in <code>Options</code> and <code>Details</code> MUST be of type <code>string</code> and MUST match the regular expression <code>[a-z][a-z0-9_]{2,}</code> for WAMP predefined keys. Implementations MAY use implementation-specific keys that MUST match the regular expression <code>_[a-z0-9_]{3,}</code>. Attributes unknown to an implementation MUST be ignored.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="no-polymorphism">
<section id="section-3.2">
        <h3 id="name-no-polymorphism">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-no-polymorphism" class="section-name selfRef">No Polymorphism</a>
        </h3>
<p id="section-3.2-1">For a given <code>MessageType</code> and number of message elements the expected types are uniquely defined. Hence there are no polymorphic messages in WAMP. This leads to a message parsing and validation control flow that is efficient, simple to implement and simple to code for rigorous message format checking.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="structure">
<section id="section-3.3">
        <h3 id="name-structure">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-structure" class="section-name selfRef">Structure</a>
        </h3>
<p id="section-3.3-1">The application payload (that is call arguments, call results, event payload etc) is always at the end of the message element list. The rationale is: Brokers and Dealers have no need to inspect (parse) the application payload. Their business is call/event routing. Having the application payload at the end of the list allows Brokers and Dealers to skip parsing it altogether. This can improve efficiency and performance.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="message-definitions">
<section id="section-3.4">
        <h3 id="name-message-definitions">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-message-definitions" class="section-name selfRef">Message Definitions</a>
        </h3>
<p id="section-3.4-1">WAMP defines the following messages that are explained in detail in the following sections.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">The messages concerning the WAMP session itself are mandatory for all Peers, i.e. a Client MUST implement <code>HELLO</code>, <code>ABORT</code> and <code>GOODBYE</code>, while a Router MUST implement <code>WELCOME</code>, <code>ABORT</code> and <code>GOODBYE</code>.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">All other messages are mandatory per role, i.e. in an implementation that only provides a Client with the role of Publisher MUST additionally implement sending <code>PUBLISH</code> and receiving <code>PUBLISHED</code> and <code>ERROR</code> messages.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<div id="session-lifecycle">
<section id="section-3.4.1">
          <h4 id="name-session-lifecycle">
<a href="#section-3.4.1" class="section-number selfRef">3.4.1. </a><a href="#name-session-lifecycle" class="section-name selfRef">Session Lifecycle</a>
          </h4>
<div id="hello">
<section id="section-3.4.1.1">
            <h5 id="name-hello">
<a href="#section-3.4.1.1" class="section-number selfRef">3.4.1.1. </a><a href="#name-hello" class="section-name selfRef">HELLO</a>
            </h5>
<p id="section-3.4.1.1-1">Sent by a Client to initiate opening of a WAMP session to a Router attaching to a Realm.<a href="#section-3.4.1.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.1.1-2">
<pre>    [HELLO, Realm|uri, Details|dict]
</pre><a href="#section-3.4.1.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="welcome">
<section id="section-3.4.1.2">
            <h5 id="name-welcome">
<a href="#section-3.4.1.2" class="section-number selfRef">3.4.1.2. </a><a href="#name-welcome" class="section-name selfRef">WELCOME</a>
            </h5>
<p id="section-3.4.1.2-1">Sent by a Router to accept a Client. The WAMP session is now open.<a href="#section-3.4.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.1.2-2">
<pre>    [WELCOME, Session|id, Details|dict]
</pre><a href="#section-3.4.1.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="abort">
<section id="section-3.4.1.3">
            <h5 id="name-abort">
<a href="#section-3.4.1.3" class="section-number selfRef">3.4.1.3. </a><a href="#name-abort" class="section-name selfRef">ABORT</a>
            </h5>
<p id="section-3.4.1.3-1">Sent by a Peer to abort the opening of a WAMP session. No response is expected.<a href="#section-3.4.1.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.1.3-2">
<pre>    [ABORT, Details|dict, Reason|uri]

    [ABORT, Details|dict, Reason|uri, Arguments|list]

    [ABORT, Details|dict, Reason|uri, Arguments|list, ArgumentsKw|dict]
</pre><a href="#section-3.4.1.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="goodbye">
<section id="section-3.4.1.4">
            <h5 id="name-goodbye">
<a href="#section-3.4.1.4" class="section-number selfRef">3.4.1.4. </a><a href="#name-goodbye" class="section-name selfRef">GOODBYE</a>
            </h5>
<p id="section-3.4.1.4-1">Sent by a Peer to close a previously opened WAMP session. Must be echo'ed by the receiving Peer.<a href="#section-3.4.1.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.1.4-2">
<pre>    [GOODBYE, Details|dict, Reason|uri]
</pre><a href="#section-3.4.1.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="error">
<section id="section-3.4.1.5">
            <h5 id="name-error">
<a href="#section-3.4.1.5" class="section-number selfRef">3.4.1.5. </a><a href="#name-error" class="section-name selfRef">ERROR</a>
            </h5>
<p id="section-3.4.1.5-1">Error reply sent by a Peer as an error response to different kinds of requests.<a href="#section-3.4.1.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.1.5-2">
<pre>    [ERROR, REQUEST.Type|int, REQUEST.Request|id, Details|dict, Error|uri]

    [ERROR, REQUEST.Type|int, REQUEST.Request|id, Details|dict, Error|uri,
        Arguments|list]

    [ERROR, REQUEST.Type|int, REQUEST.Request|id, Details|dict, Error|uri,
        Arguments|list, ArgumentsKw|dict]
</pre><a href="#section-3.4.1.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="publish-subscribe-1">
<section id="section-3.4.2">
          <h4 id="name-publish-subscribe-2">
<a href="#section-3.4.2" class="section-number selfRef">3.4.2. </a><a href="#name-publish-subscribe-2" class="section-name selfRef">Publish &amp; Subscribe</a>
          </h4>
<div id="publish">
<section id="section-3.4.2.1">
            <h5 id="name-publish">
<a href="#section-3.4.2.1" class="section-number selfRef">3.4.2.1. </a><a href="#name-publish" class="section-name selfRef">PUBLISH</a>
            </h5>
<p id="section-3.4.2.1-1">Sent by a Publisher to a Broker to publish an event.<a href="#section-3.4.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.1-2">
<pre>    [PUBLISH, Request|id, Options|dict, Topic|uri]

    [PUBLISH, Request|id, Options|dict, Topic|uri, Arguments|list]

    [PUBLISH, Request|id, Options|dict, Topic|uri, Arguments|list,
        ArgumentsKw|dict]
</pre><a href="#section-3.4.2.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="published">
<section id="section-3.4.2.2">
            <h5 id="name-published">
<a href="#section-3.4.2.2" class="section-number selfRef">3.4.2.2. </a><a href="#name-published" class="section-name selfRef">PUBLISHED</a>
            </h5>
<p id="section-3.4.2.2-1">Acknowledge sent by a Broker to a Publisher for acknowledged publications.<a href="#section-3.4.2.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.2-2">
<pre>    [PUBLISHED, PUBLISH.Request|id, Publication|id]
</pre><a href="#section-3.4.2.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="subscribe">
<section id="section-3.4.2.3">
            <h5 id="name-subscribe">
<a href="#section-3.4.2.3" class="section-number selfRef">3.4.2.3. </a><a href="#name-subscribe" class="section-name selfRef">SUBSCRIBE</a>
            </h5>
<p id="section-3.4.2.3-1">Subscribe request sent by a Subscriber to a Broker to subscribe to a topic.<a href="#section-3.4.2.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.3-2">
<pre>    [SUBSCRIBE, Request|id, Options|dict, Topic|uri]
</pre><a href="#section-3.4.2.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="subscribed">
<section id="section-3.4.2.4">
            <h5 id="name-subscribed">
<a href="#section-3.4.2.4" class="section-number selfRef">3.4.2.4. </a><a href="#name-subscribed" class="section-name selfRef">SUBSCRIBED</a>
            </h5>
<p id="section-3.4.2.4-1">Acknowledge sent by a Broker to a Subscriber to acknowledge a subscription.<a href="#section-3.4.2.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.4-2">
<pre>    [SUBSCRIBED, SUBSCRIBE.Request|id, Subscription|id]
</pre><a href="#section-3.4.2.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unsubscribe">
<section id="section-3.4.2.5">
            <h5 id="name-unsubscribe">
<a href="#section-3.4.2.5" class="section-number selfRef">3.4.2.5. </a><a href="#name-unsubscribe" class="section-name selfRef">UNSUBSCRIBE</a>
            </h5>
<p id="section-3.4.2.5-1">Unsubscribe request sent by a Subscriber to a Broker to unsubscribe a subscription.<a href="#section-3.4.2.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.5-2">
<pre>    [UNSUBSCRIBE, Request|id, SUBSCRIBED.Subscription|id]
</pre><a href="#section-3.4.2.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unsubscribed">
<section id="section-3.4.2.6">
            <h5 id="name-unsubscribed">
<a href="#section-3.4.2.6" class="section-number selfRef">3.4.2.6. </a><a href="#name-unsubscribed" class="section-name selfRef">UNSUBSCRIBED</a>
            </h5>
<p id="section-3.4.2.6-1">Acknowledge sent by a Broker to a Subscriber to acknowledge unsubscription.<a href="#section-3.4.2.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.6-2">
<pre>    [UNSUBSCRIBED, UNSUBSCRIBE.Request|id]
</pre><a href="#section-3.4.2.6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="event">
<section id="section-3.4.2.7">
            <h5 id="name-event">
<a href="#section-3.4.2.7" class="section-number selfRef">3.4.2.7. </a><a href="#name-event" class="section-name selfRef">EVENT</a>
            </h5>
<p id="section-3.4.2.7-1">Event dispatched by Broker to Subscribers for subscriptions the event was matching.<a href="#section-3.4.2.7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.2.7-2">
<pre>    [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id, Details|dict]

    [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id, Details|dict,
        PUBLISH.Arguments|list]

    [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id, Details|dict,
        PUBLISH.Arguments|list, PUBLISH.ArgumentsKw|dict]
</pre><a href="#section-3.4.2.7-2" class="pilcrow">¶</a>
</div>
<blockquote id="section-3.4.2.7-3">
              <p id="section-3.4.2.7-3.1">An event is dispatched to a Subscriber for a given <code>Subscription|id</code> only once. On the other hand, a Subscriber that holds subscriptions with different <code>Subscription|id</code>s that all match a given event will receive the event on each matching subscription.<a href="#section-3.4.2.7-3.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
</section>
</div>
<div id="routed-remote-procedure-calls">
<section id="section-3.4.3">
          <h4 id="name-routed-remote-procedure-cal">
<a href="#section-3.4.3" class="section-number selfRef">3.4.3. </a><a href="#name-routed-remote-procedure-cal" class="section-name selfRef">Routed Remote Procedure Calls</a>
          </h4>
<div id="call">
<section id="section-3.4.3.1">
            <h5 id="name-call">
<a href="#section-3.4.3.1" class="section-number selfRef">3.4.3.1. </a><a href="#name-call" class="section-name selfRef">CALL</a>
            </h5>
<p id="section-3.4.3.1-1">Call as originally issued by the Caller to the Dealer.<a href="#section-3.4.3.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.1-2">
<pre>  [CALL, Request|id, Options|dict, Procedure|uri]

  [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list]

  [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list,
      ArgumentsKw|dict]
</pre><a href="#section-3.4.3.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="result">
<section id="section-3.4.3.2">
            <h5 id="name-result">
<a href="#section-3.4.3.2" class="section-number selfRef">3.4.3.2. </a><a href="#name-result" class="section-name selfRef">RESULT</a>
            </h5>
<p id="section-3.4.3.2-1">Result of a call as returned by Dealer to Caller.<a href="#section-3.4.3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.2-2">
<pre>    [RESULT, CALL.Request|id, Details|dict]

    [RESULT, CALL.Request|id, Details|dict, YIELD.Arguments|list]

    [RESULT, CALL.Request|id, Details|dict, YIELD.Arguments|list,
        YIELD.ArgumentsKw|dict]
</pre><a href="#section-3.4.3.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="register">
<section id="section-3.4.3.3">
            <h5 id="name-register">
<a href="#section-3.4.3.3" class="section-number selfRef">3.4.3.3. </a><a href="#name-register" class="section-name selfRef">REGISTER</a>
            </h5>
<p id="section-3.4.3.3-1">A Callees request to register an endpoint at a Dealer.<a href="#section-3.4.3.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.3-2">
<pre>    [REGISTER, Request|id, Options|dict, Procedure|uri]
</pre><a href="#section-3.4.3.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="registered">
<section id="section-3.4.3.4">
            <h5 id="name-registered">
<a href="#section-3.4.3.4" class="section-number selfRef">3.4.3.4. </a><a href="#name-registered" class="section-name selfRef">REGISTERED</a>
            </h5>
<p id="section-3.4.3.4-1">Acknowledge sent by a Dealer to a Callee for successful registration.<a href="#section-3.4.3.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.4-2">
<pre>    [REGISTERED, REGISTER.Request|id, Registration|id]
</pre><a href="#section-3.4.3.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unregister">
<section id="section-3.4.3.5">
            <h5 id="name-unregister">
<a href="#section-3.4.3.5" class="section-number selfRef">3.4.3.5. </a><a href="#name-unregister" class="section-name selfRef">UNREGISTER</a>
            </h5>
<p id="section-3.4.3.5-1">A Callees request to unregister a previously established registration.<a href="#section-3.4.3.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.5-2">
<pre>    [UNREGISTER, Request|id, REGISTERED.Registration|id]
</pre><a href="#section-3.4.3.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unregistered">
<section id="section-3.4.3.6">
            <h5 id="name-unregistered">
<a href="#section-3.4.3.6" class="section-number selfRef">3.4.3.6. </a><a href="#name-unregistered" class="section-name selfRef">UNREGISTERED</a>
            </h5>
<p id="section-3.4.3.6-1">Acknowledge sent by a Dealer to a Callee for successful unregistration.<a href="#section-3.4.3.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.6-2">
<pre>    [UNREGISTERED, UNREGISTER.Request|id]
</pre><a href="#section-3.4.3.6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="invocation">
<section id="section-3.4.3.7">
            <h5 id="name-invocation">
<a href="#section-3.4.3.7" class="section-number selfRef">3.4.3.7. </a><a href="#name-invocation" class="section-name selfRef">INVOCATION</a>
            </h5>
<p id="section-3.4.3.7-1">Actual invocation of an endpoint sent by Dealer to a Callee.<a href="#section-3.4.3.7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.7-2">
<pre>    [INVOCATION, Request|id, REGISTERED.Registration|id, Details|dict]

    [INVOCATION, Request|id, REGISTERED.Registration|id, Details|dict,
        CALL.Arguments|list]

    [INVOCATION, Request|id, REGISTERED.Registration|id, Details|dict,
        CALL.Arguments|list, CALL.ArgumentsKw|dict]
</pre><a href="#section-3.4.3.7-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="yield">
<section id="section-3.4.3.8">
            <h5 id="name-yield">
<a href="#section-3.4.3.8" class="section-number selfRef">3.4.3.8. </a><a href="#name-yield" class="section-name selfRef">YIELD</a>
            </h5>
<p id="section-3.4.3.8-1">Actual yield from an endpoint sent by a Callee to Dealer.<a href="#section-3.4.3.8-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.4.3.8-2">
<pre>    [YIELD, INVOCATION.Request|id, Options|dict]

    [YIELD, INVOCATION.Request|id, Options|dict, Arguments|list]

    [YIELD, INVOCATION.Request|id, Options|dict, Arguments|list, ArgumentsKw|dict]
</pre><a href="#section-3.4.3.8-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="message-codes-and-direction">
<section id="section-3.5">
        <h3 id="name-message-codes-and-direction">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-message-codes-and-direction" class="section-name selfRef">Message Codes and Direction</a>
        </h3>
<p id="section-3.5-1">The following table lists the message type code for all messages defined in the WAMP basic profile and their direction between peer roles.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">Reserved codes may be used to identify additional message types in future standards documents.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<p id="section-3.5-3">"Tx" indicates the message is sent by the respective role, and "Rx" indicates the message is received by the respective role.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<table class="left" id="table-1">
          <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Code</th>
              <th class="text-left" rowspan="1" colspan="1">Message</th>
              <th class="text-left" rowspan="1" colspan="1">Publisher</th>
              <th class="text-left" rowspan="1" colspan="1">Broker</th>
              <th class="text-left" rowspan="1" colspan="1">Subscriber</th>
              <th class="text-left" rowspan="1" colspan="1">Caller</th>
              <th class="text-left" rowspan="1" colspan="1">Dealer</th>
              <th class="text-left" rowspan="1" colspan="1">Callee</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>HELLO</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>WELCOME</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ABORT</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">6</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>GOODBYE</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">8</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ERROR</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
              <td class="text-left" rowspan="1" colspan="1">TxRx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">16</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PUBLISH</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">17</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>PUBLISHED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">32</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>SUBSCRIBE</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">33</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>SUBSCRIBED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">34</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>UNSUBSCRIBE</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">35</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>UNSUBSCRIBED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">36</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>EVENT</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">48</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>CALL</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">50</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>RESULT</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">64</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>REGISTER</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">65</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>REGISTERED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">66</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>UNREGISTER</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">67</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>UNREGISTERED</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">68</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>INVOCATION</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">70</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>YIELD</code>
</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1"></td>
              <td class="text-left" rowspan="1" colspan="1">Rx</td>
              <td class="text-left" rowspan="1" colspan="1">Tx</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="extension-messages">
<section id="section-3.6">
        <h3 id="name-extension-messages">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-extension-messages" class="section-name selfRef">Extension Messages</a>
        </h3>
<p id="section-3.6-1">WAMP uses type codes from the core range [0, 255]. Implementations MAY define and use implementation specific messages with message type codes from the extension message range [256, 1023]. For example, a router MAY implement router-to-router communication by using extension messages.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="empty-arguments-and-keyword-arguments">
<section id="section-3.7">
        <h3 id="name-empty-arguments-and-keyword">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-empty-arguments-and-keyword" class="section-name selfRef">Empty Arguments and Keyword Arguments</a>
        </h3>
<p id="section-3.7-1">Implementations SHOULD avoid sending empty <code>Arguments</code> lists.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<p id="section-3.7-2">E.g. a <code>CALL</code> message<a href="#section-3.7-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.7-3">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list]
</pre><a href="#section-3.7-3" class="pilcrow">¶</a>
</div>
<p id="section-3.7-4">where <code>Arguments == []</code> SHOULD be avoided, and instead<a href="#section-3.7-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.7-5">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri]
</pre><a href="#section-3.7-5" class="pilcrow">¶</a>
</div>
<p id="section-3.7-6">SHOULD be sent.<a href="#section-3.7-6" class="pilcrow">¶</a></p>
<p id="section-3.7-7">Implementations SHOULD avoid sending empty <code>ArgumentsKw</code> dictionaries.<a href="#section-3.7-7" class="pilcrow">¶</a></p>
<p id="section-3.7-8">E.g. a <code>CALL</code> message<a href="#section-3.7-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.7-9">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list, ArgumentsKw|dict]
</pre><a href="#section-3.7-9" class="pilcrow">¶</a>
</div>
<p id="section-3.7-10">where <code>ArgumentsKw == {}</code> SHOULD be avoided, and instead<a href="#section-3.7-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.7-11">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list]
</pre><a href="#section-3.7-11" class="pilcrow">¶</a>
</div>
<p id="section-3.7-12">SHOULD be sent when <code>Arguments</code> is non-empty.<a href="#section-3.7-12" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sessions">
<section id="section-4">
      <h2 id="name-sessions">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-sessions" class="section-name selfRef">Sessions</a>
      </h2>
<p id="section-4-1">The message flow between Clients and Routers for opening and closing WAMP sessions involves the following messages:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-4-2">
<li id="section-4-2.1">
          <code>HELLO</code><a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.2">
          <code>WELCOME</code><a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.3">
          <code>ABORT</code><a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.4">
          <code>GOODBYE</code><a href="#section-4-2.4" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-4-3">The following state chart gives the states that a WAMP peer can be in during the session lifetime cycle.<a href="#section-4-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-4">
<pre>                         +--------------+
+--------(6)-------------&gt;              |
|                        | CLOSED       &lt;--------------------------+
| +------(4)-------------&gt;              &lt;---+                      |
| |                      +--------------+   |                      |
| |                               |         |                      |
| |                              (1)       (7)                     |
| |                               |         |                      |
| |                      +--------v-----+   |                   (11)
| |                      |              +---+                      |
| |         +------------+ ESTABLISHING +----------------+         |
| |         |            |              |                |         |
| |         |            +--------------+                |         |
| |         |                     |                     (10)       |
| |         |                    (9)                     |         |
| |         |                     |                      |         |
| |        (2)           +--------v-----+       +--------v-------+ |
| |         |            |              |       |                | |
| |         |     +------&gt; FAILED       &lt;--(13)-+ CHALLENGING /  +-+
| |         |     |      |              |       | AUTHENTICATING |
| |         |     |      +--------------+       +----------------+
| |         |    (8)                                     |
| |         |     |                                      |
| |         |     |                                      |
| | +-------v-------+                                    |
| | |               &lt;-------------------(12)-------------+
| | | ESTABLISHED   |
| | |               +--------------+
| | +---------------+              |
| |         |                      |
| |        (3)                    (5)
| |         |                      |
| | +-------v-------+     +--------v-----+
| | |               +--+  |              |
| +-+ SHUTTING DOWN |  |  | CLOSING      |
|   |               |(14) |              |
|   +-------^-------+  |  +--------------+
|           |----------+           |
+----------------------------------+
</pre><a href="#section-4-4" class="pilcrow">¶</a>
</div>
<p id="section-4-5">The state transitions are listed in this table:<a href="#section-4-5" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
        <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">#</th>
            <th class="text-left" rowspan="1" colspan="1">State</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">1</td>
            <td class="text-left" rowspan="1" colspan="1">Sent HELLO</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">2</td>
            <td class="text-left" rowspan="1" colspan="1">Received WELCOME</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">3</td>
            <td class="text-left" rowspan="1" colspan="1">Sent GOODBYE</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4</td>
            <td class="text-left" rowspan="1" colspan="1">Received GOODBYE</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">5</td>
            <td class="text-left" rowspan="1" colspan="1">Received GOODBYE</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">6</td>
            <td class="text-left" rowspan="1" colspan="1">Sent GOODBYE</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">7</td>
            <td class="text-left" rowspan="1" colspan="1">Received invalid HELLO / Send ABORT</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">8</td>
            <td class="text-left" rowspan="1" colspan="1">Received HELLO or AUTHENTICATE</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">9</td>
            <td class="text-left" rowspan="1" colspan="1">Received other</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">10</td>
            <td class="text-left" rowspan="1" colspan="1">Received valid HELLO [needs authentication] / Send CHALLENGE</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">11</td>
            <td class="text-left" rowspan="1" colspan="1">Received invalid AUTHENTICATE / Send ABORT</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">12</td>
            <td class="text-left" rowspan="1" colspan="1">Received valid AUTHENTICATE / Send WELCOME</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">13</td>
            <td class="text-left" rowspan="1" colspan="1">Received other</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">14</td>
            <td class="text-left" rowspan="1" colspan="1">Received other / ignore</td>
          </tr>
        </tbody>
      </table>
<div id="session-establishment">
<section id="section-4.1">
        <h3 id="name-session-establishment">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-session-establishment" class="section-name selfRef">Session Establishment</a>
        </h3>
<div id="hello-1">
<section id="section-4.1.1">
          <h4 id="name-hello-2">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-hello-2" class="section-name selfRef">HELLO</a>
          </h4>
<p id="section-4.1.1-1">After the underlying transport has been established, the opening of a WAMP session is initiated by the Client sending a <code>HELLO</code> message to the Router<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-2">
<pre>    [HELLO, Realm|uri, Details|dict]
</pre><a href="#section-4.1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-3">where<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.1-4.1">
              <code>Realm</code> is a string identifying the realm this session should attach to<a href="#section-4.1.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.1-4.2">
              <code>Details</code> is a dictionary that allows to provide additional opening information (see below).<a href="#section-4.1.1-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.1-5">The <code>HELLO</code> message MUST be the very first message sent by the Client after the transport has been established.<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1.1-6">In the WAMP Basic Profile without session authentication the Router will reply with a <code>WELCOME</code> or <code>ABORT</code> message.<a href="#section-4.1.1-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-7">
<pre>    ,------.          ,------.
    |Client|          |Router|
    `--+---'          `--+---'
       |      HELLO      |
       | ----------------&gt;
       |                 |
       |     WELCOME     |
       | &lt;----------------
    ,--+---.          ,--+---.
    |Client|          |Router|
    `------'          `------'
</pre><a href="#section-4.1.1-7" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-8">A WAMP session starts its lifetime when the Router has sent a <code>WELCOME</code> message to the Client, and ends when the underlying transport closes or when the session is closed explicitly by either peer sending the <code>GOODBYE</code> message (see below).<a href="#section-4.1.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1.1-9">It is a <a href="#protocol_errors">protocol error</a> to receive a second <code>HELLO</code> message during the lifetime of the session and the Peer MUST close the session if that happens.<a href="#section-4.1.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1.1-10"><strong>Client: Role and Feature Announcement</strong><a href="#section-4.1.1-10" class="pilcrow">¶</a></p>
<p id="section-4.1.1-11">WAMP uses <em>Role &amp; Feature announcement</em> instead of <em>protocol versioning</em> to allow<a href="#section-4.1.1-11" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.1-12.1">implementations only supporting subsets of functionality<a href="#section-4.1.1-12.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.1-12.2">future extensibility<a href="#section-4.1.1-12.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.1-13">A Client must announce the roles it supports via <code>Hello.Details.roles|dict</code>, with a key mapping to a <code>Hello.Details.roles.&lt;role&gt;|dict</code> where <code>&lt;role&gt;</code> can be:<a href="#section-4.1.1-13" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.1-14.1">
              <code>publisher</code><a href="#section-4.1.1-14.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.1-14.2">
              <code>subscriber</code><a href="#section-4.1.1-14.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.1-14.3">
              <code>caller</code><a href="#section-4.1.1-14.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.1-14.4">
              <code>callee</code><a href="#section-4.1.1-14.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.1-15">A Client can support any combination of the above roles but must support at least one role.<a href="#section-4.1.1-15" class="pilcrow">¶</a></p>
<p id="section-4.1.1-16">The <code>&lt;role&gt;|dict</code> is a dictionary describing features supported by the peer for that role.<a href="#section-4.1.1-16" class="pilcrow">¶</a></p>
<p id="section-4.1.1-17">This MUST be empty for WAMP Basic Profile implementations, and MUST be used by implementations implementing parts of the Advanced Profile to list the specific set of features they support.<a href="#section-4.1.1-17" class="pilcrow">¶</a></p>
<p id="section-4.1.1-18"><em>Example: A Client that implements the Publisher and Subscriber roles of the WAMP Basic Profile.</em><a href="#section-4.1.1-18" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-19">
<pre>    [1, "somerealm", {
      "roles": {
          "publisher": {},
          "subscriber": {}
      }
    }]
</pre><a href="#section-4.1.1-19" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-20"><strong>Client: Agent Identification</strong><a href="#section-4.1.1-20" class="pilcrow">¶</a></p>
<p id="section-4.1.1-21">When a software agent operates in a network protocol, it often identifies itself, its application type, operating system, software vendor, or software revision, by submitting a characteristic identification string to its operating peer.<a href="#section-4.1.1-21" class="pilcrow">¶</a></p>
<p id="section-4.1.1-22">Similar to what browsers do with the <code>User-Agent</code> HTTP header, both the <code>HELLO</code> and the <code>WELCOME</code> message MAY disclose the WAMP implementation in use to its peer:<a href="#section-4.1.1-22" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-23">
<pre>    HELLO.Details.agent|string
</pre><a href="#section-4.1.1-23" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-24">and<a href="#section-4.1.1-24" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-25">
<pre>    WELCOME.Details.agent|string
</pre><a href="#section-4.1.1-25" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-26"><em>Example: A Client "HELLO" message.</em><a href="#section-4.1.1-26" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-27">
<pre>    [1, "somerealm", {
         "agent": "AutobahnJS-0.9.14",
         "roles": {
            "subscriber": {},
            "publisher": {}
         }
    }]
</pre><a href="#section-4.1.1-27" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-28"><em>Example: A Router "WELCOME" message.</em><a href="#section-4.1.1-28" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-29">
<pre>    [2, 9129137332, {
        "agent": "Crossbar.io-0.10.11",
        "roles": {
          "broker": {}
        }
    }]
</pre><a href="#section-4.1.1-29" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="welcome-1">
<section id="section-4.1.2">
          <h4 id="name-welcome-2">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-welcome-2" class="section-name selfRef">WELCOME</a>
          </h4>
<p id="section-4.1.2-1">A Router completes the opening of a WAMP session by sending a <code>WELCOME</code> reply message to the Client.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.2-2">
<pre>    [WELCOME, Session|id, Details|dict]
</pre><a href="#section-4.1.2-2" class="pilcrow">¶</a>
</div>
<p id="section-4.1.2-3">where<a href="#section-4.1.2-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.2-4.1">
              <code>Session</code> MUST be a randomly generated ID specific to the WAMP session. This applies for the lifetime of the session.<a href="#section-4.1.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.2-4.2">
              <code>Details</code> is a dictionary that allows to provide additional information regarding the open session (see below).<a href="#section-4.1.2-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.2-5">In the WAMP Basic Profile without session authentication, a <code>WELCOME</code> message MUST be the first message sent by the Router, directly in response to a <code>HELLO</code> message received from the Client. Extensions in the Advanced Profile MAY include intermediate steps and messages for authentication.<a href="#section-4.1.2-5" class="pilcrow">¶</a></p>
<blockquote id="section-4.1.2-6">
            <p id="section-4.1.2-6.1">Note. The behavior if a requested <code>Realm</code> does not presently exist is router-specific. A router may e.g. automatically create the realm, or deny the establishment of the session with a <code>ABORT</code> reply message.<a href="#section-4.1.2-6.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-4.1.2-7"><strong>Router: Role and Feature Announcement</strong><a href="#section-4.1.2-7" class="pilcrow">¶</a></p>
<p id="section-4.1.2-8">Similar to a Client announcing Roles and Features supported in the <code>HELLO</code> message, a Router announces its supported Roles and Features in the <code>WELCOME</code> message.<a href="#section-4.1.2-8" class="pilcrow">¶</a></p>
<p id="section-4.1.2-9">A Router MUST announce the roles it supports via <code>Welcome.Details.roles|dict</code>, with a key mapping to a <code>Welcome.Details.roles.&lt;role&gt;|dict</code> where <code>&lt;role&gt;</code> can be:<a href="#section-4.1.2-9" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.2-10.1">
              <code>broker</code><a href="#section-4.1.2-10.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.2-10.2">
              <code>dealer</code><a href="#section-4.1.2-10.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.2-11">A Router must support at least one role, and MAY support both roles.<a href="#section-4.1.2-11" class="pilcrow">¶</a></p>
<p id="section-4.1.2-12">The <code>&lt;role&gt;|dict</code> is a dictionary describing features supported by the peer for that role. With WAMP Basic Profile implementations, this MUST be empty, but MUST be used by implementations implementing parts of the Advanced Profile to list the specific set of features they support<a href="#section-4.1.2-12" class="pilcrow">¶</a></p>
<p id="section-4.1.2-13"><em>Example: A Router implementing the Broker role of the WAMP Basic Profile.</em><a href="#section-4.1.2-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.2-14">
<pre>    [2, 9129137332, {
       "roles": {
          "broker": {}
       }
    }]
</pre><a href="#section-4.1.2-14" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="abort-1">
<section id="section-4.1.3">
          <h4 id="name-abort-2">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-abort-2" class="section-name selfRef">ABORT</a>
          </h4>
<p id="section-4.1.3-1">Both the Router and the Client may abort a WAMP session by sending an <code>ABORT</code> message.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.3-2">
<pre>    [ABORT, Details|dict, Reason|uri]

    [ABORT, Details|dict, Reason|uri, Arguments|list]

    [ABORT, Details|dict, Reason|uri, Arguments|list, ArgumentsKw|dict]
</pre><a href="#section-4.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-4.1.3-3">where<a href="#section-4.1.3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.3-4.1">
              <code>Reason</code> MUST be a URI.<a href="#section-4.1.3-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.1.3-4.2">
              <code>Details</code> MUST be a dictionary that allows to provide additional, optional closing information (see below).<a href="#section-4.1.3-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.3-5">No response to an <code>ABORT</code> message is expected.<a href="#section-4.1.3-5" class="pilcrow">¶</a></p>
<p id="section-4.1.3-6">There are few scenarios, when <code>ABORT</code> is used:<a href="#section-4.1.3-6" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.3-7.1">During session opening, if peer decided to abort connect.<a href="#section-4.1.3-7.1" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-text artwork" id="section-4.1.3-8">
<pre>    ,------.          ,------.
    |Client|          |Router|
    `--+---'          `--+---'
       |      HELLO      |
       | ----------------&gt;
       |                 |
       |      ABORT      |
       | &lt;----------------
    ,--+---.          ,--+---.
    |Client|          |Router|
    `------'          `------'
</pre><a href="#section-4.1.3-8" class="pilcrow">¶</a>
</div>
<p id="section-4.1.3-9"><em>Example</em><a href="#section-4.1.3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.3-10">
<pre>    [3, {"message": "The realm does not exist."},
        "wamp.error.no_such_realm"]
</pre><a href="#section-4.1.3-10" class="pilcrow">¶</a>
</div>
<ul class="compact">
<li class="compact" id="section-4.1.3-11.1">After session is opened, when protocol violation happens (see "Protocol errors" section).<a href="#section-4.1.3-11.1" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.3-12"><em>Examples</em><a href="#section-4.1.3-12" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.1.3-13.1">Router received second HELLO message.<a href="#section-4.1.3-13.1" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-text artwork" id="section-4.1.3-14">
<pre>    [3, {"message":
            "Received HELLO message after session was established."},
        "wamp.error.protocol_violation"]
</pre><a href="#section-4.1.3-14" class="pilcrow">¶</a>
</div>
<ul class="compact">
<li class="compact" id="section-4.1.3-15.1">Client peer received second WELCOME message<a href="#section-4.1.3-15.1" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-text artwork" id="section-4.1.3-16">
<pre>    [3, {"message":
            "Received WELCOME message after session was established."},
        "wamp.error.protocol_violation"]
</pre><a href="#section-4.1.3-16" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="session-closing">
<section id="section-4.2">
        <h3 id="name-session-closing">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-session-closing" class="section-name selfRef">Session Closing</a>
        </h3>
<div id="goodbye-1">
<section id="section-4.2.1">
          <h4 id="name-goodbye-2">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-goodbye-2" class="section-name selfRef">GOODBYE</a>
          </h4>
<p id="section-4.2.1-1">A WAMP session starts its lifetime with the Router sending a <code>WELCOME</code> message to the Client and ends when the underlying transport disappears or when the WAMP session is closed explicitly by a <code>GOODBYE</code> message sent by one Peer and a <code>GOODBYE</code> message sent from the other Peer in response.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-2">
<pre>    [GOODBYE, Details|dict, Reason|uri]
</pre><a href="#section-4.2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-3">where<a href="#section-4.2.1-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-4.2.1-4.1">
              <code>Reason</code> MUST be a URI.<a href="#section-4.2.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-4.2.1-4.2">
              <code>Details</code> MUST be a dictionary that allows to provide additional, optional closing information (see below).<a href="#section-4.2.1-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-text artwork" id="section-4.2.1-5">
<pre>    ,------.          ,------.
    |Client|          |Router|
    `--+---'          `--+---'
       |     GOODBYE     |
       | ----------------&gt;
       |                 |
       |     GOODBYE     |
       | &lt;----------------
    ,--+---.          ,--+---.
    |Client|          |Router|
    `------'          `------'
</pre><a href="#section-4.2.1-5" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-text artwork" id="section-4.2.1-6">
<pre>    ,------.          ,------.
    |Client|          |Router|
    `--+---'          `--+---'
       |     GOODBYE     |
       | &lt;----------------
       |                 |
       |     GOODBYE     |
       | ----------------&gt;
    ,--+---.          ,--+---.
    |Client|          |Router|
    `------'          `------'
</pre><a href="#section-4.2.1-6" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-7"><em>Example</em>. One Peer initiates closing<a href="#section-4.2.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-8">
<pre>    [6, {"message": "The host is shutting down now."},
        "wamp.close.system_shutdown"]
</pre><a href="#section-4.2.1-8" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-9">and the other peer replies<a href="#section-4.2.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-10">
<pre>    [6, {}, "wamp.close.goodbye_and_out"]
</pre><a href="#section-4.2.1-10" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-11"><em>Example</em>. One Peer initiates closing<a href="#section-4.2.1-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-12">
<pre>    [6, {}, "wamp.close.close_realm"]
</pre><a href="#section-4.2.1-12" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-13">and the other peer replies<a href="#section-4.2.1-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-14">
<pre>    [6, {}, "wamp.close.goodbye_and_out"]
</pre><a href="#section-4.2.1-14" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-15"><strong>Difference between ABORT and GOODBYE</strong><a href="#section-4.2.1-15" class="pilcrow">¶</a></p>
<p id="section-4.2.1-16">The differences between <code>ABORT</code> and <code>GOODBYE</code> messages is that <code>ABORT</code> is never replied to by a Peer, whereas <code>GOODBYE</code> must be replied to by the receiving Peer.<a href="#section-4.2.1-16" class="pilcrow">¶</a></p>
<blockquote id="section-4.2.1-17">
            <p id="section-4.2.1-17.1">Though <code>ABORT</code> and <code>GOODBYE</code> are structurally identical, using different message types serves to reduce overloaded meaning of messages and simplify message handling code.<a href="#section-4.2.1-17.1" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="publish-and-subscribe">
<section id="section-5">
      <h2 id="name-publish-and-subscribe">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-publish-and-subscribe" class="section-name selfRef">Publish and Subscribe</a>
      </h2>
<p id="section-5-1">All of the following features for Publish &amp; Subscribe are mandatory for WAMP Basic Profile implementations supporting the respective roles, i.e. <em>Publisher</em>, <em>Subscriber</em> and <em>Broker</em>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="subscribing-and-unsubscribing">
<section id="section-5.1">
        <h3 id="name-subscribing-and-unsubscribi">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-subscribing-and-unsubscribi" class="section-name selfRef">Subscribing and Unsubscribing</a>
        </h3>
<p id="section-5.1-1">The message flow between Clients implementing the role of Subscriber and Routers implementing the role of Broker for subscribing and unsubscribing involves the following messages:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-5.1-2">
<li id="section-5.1-2.1">
            <code>SUBSCRIBE</code><a href="#section-5.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-2.2">
            <code>SUBSCRIBED</code><a href="#section-5.1-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-2.3">
            <code>UNSUBSCRIBE</code><a href="#section-5.1-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-2.4">
            <code>UNSUBSCRIBED</code><a href="#section-5.1-2.4" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-2.5">
            <code>ERROR</code><a href="#section-5.1-2.5" class="pilcrow">¶</a>
</li>
        </ol>
<div class="alignLeft art-text artwork" id="section-5.1-3">
<pre>    ,---------.          ,------.             ,----------.
    |Publisher|          |Broker|             |Subscriber|
    `----+----'          `--+---'             `----+-----'
         |                  |                      |
         |                  |                      |
         |                  |       SUBSCRIBE      |
         |                  | &lt;---------------------
         |                  |                      |
         |                  |  SUBSCRIBED or ERROR |
         |                  | ---------------------&gt;
         |                  |                      |
         |                  |                      |
         |                  |                      |
         |                  |                      |
         |                  |      UNSUBSCRIBE     |
         |                  | &lt;---------------------
         |                  |                      |
         |                  | UNSUBSCRIBED or ERROR|
         |                  | ---------------------&gt;
    ,----+----.          ,--+---.             ,----+-----.
    |Publisher|          |Broker|             |Subscriber|
    `---------'          `------'             `----------'
</pre><a href="#section-5.1-3" class="pilcrow">¶</a>
</div>
<p id="section-5.1-4">A Subscriber may subscribe to zero, one or more topics, and a Publisher publishes to topics without knowledge of subscribers.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">Upon subscribing to a topic via the <code>SUBSCRIBE</code> message, a Subscriber will receive any future events published to the respective topic by Publishers, and will receive those events asynchronously.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">A subscription lasts for the duration of a session, unless a Subscriber opts out from a previously established subscription via the <code>UNSUBSCRIBE</code> message.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<blockquote id="section-5.1-7">
          <p id="section-5.1-7.1">A Subscriber may have more than one event handler attached to the same subscription. This can be implemented in different ways: a) a Subscriber can recognize itself that it is already subscribed and just attach another handler to the subscription for incoming events, b) or it can send a new <code>SUBSCRIBE</code> message to broker (as it would be first) and upon receiving a <code>SUBSCRIBED.Subscription|id</code> it already knows about, attach the handler to the existing subscription<a href="#section-5.1-7.1" class="pilcrow">¶</a></p>
</blockquote>
<div id="subscribe-1">
<section id="section-5.1.1">
          <h4 id="name-subscribe-2">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-subscribe-2" class="section-name selfRef">SUBSCRIBE</a>
          </h4>
<p id="section-5.1.1-1">A Subscriber communicates its interest in a topic to a Broker by sending a <code>SUBSCRIBE</code> message:<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.1-2">
<pre>    [SUBSCRIBE, Request|id, Options|dict, Topic|uri]
</pre><a href="#section-5.1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.1-3">where<a href="#section-5.1.1-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1.1-4.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Subscriber and used to correlate the Broker's response with the request.<a href="#section-5.1.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.1.1-4.2">
              <code>Options</code> is a dictionary that allows to provide additional subscription request details in a extensible way. This is described further below.<a href="#section-5.1.1-4.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.1.1-4.3">
              <code>Topic</code> is the topic the Subscriber wants to subscribe to and is a URI.<a href="#section-5.1.1-4.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.1-5"><em>Example</em><a href="#section-5.1.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.1-6">
<pre>    [32, 713845233, {}, "com.myapp.mytopic1"]
</pre><a href="#section-5.1.1-6" class="pilcrow">¶</a>
</div>
<p id="section-5.1.1-7">A Broker, receiving a <code>SUBSCRIBE</code> message, can fullfill or reject the subscription, so it answers with <code>SUBSCRIBED</code> or <code>ERROR</code> messages.<a href="#section-5.1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subscribed-1">
<section id="section-5.1.2">
          <h4 id="name-subscribed-2">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-subscribed-2" class="section-name selfRef">SUBSCRIBED</a>
          </h4>
<p id="section-5.1.2-1">If the Broker is able to fulfill and allow the subscription, it answers by sending a <code>SUBSCRIBED</code> message to the Subscriber<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.2-2">
<pre>    [SUBSCRIBED, SUBSCRIBE.Request|id, Subscription|id]
</pre><a href="#section-5.1.2-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.2-3">where<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1.2-4.1">
              <code>SUBSCRIBE.Request</code> is the ID from the original subscription request.<a href="#section-5.1.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.1.2-4.2">
              <code>Subscription</code> is an ID chosen by the Broker for the subscription.<a href="#section-5.1.2-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.2-5"><em>Example</em><a href="#section-5.1.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.2-6">
<pre>    [33, 713845233, 5512315355]
</pre><a href="#section-5.1.2-6" class="pilcrow">¶</a>
</div>
<blockquote id="section-5.1.2-7">
            <p id="section-5.1.2-7.1">Note. The <code>Subscription</code> ID chosen by the broker need not be unique to the subscription of a single Subscriber, but may be assigned to the <code>Topic</code>, or the combination of the <code>Topic</code> and some or all <code>Options</code>, such as the topic pattern matching method to be used. Then this ID may be sent to all Subscribers for the <code>Topic</code> or <code>Topic</code> /  <code>Options</code> combination. This allows the Broker to serialize an event to be delivered only once for all actual receivers of the event.<a href="#section-5.1.2-7.1" class="pilcrow">¶</a></p>
<p id="section-5.1.2-7.2">In case of receiving a <code>SUBSCRIBE</code> message from the same Subscriber and to already subscribed topic, Broker should answer with <code>SUBSCRIBED</code> message, containing the existing <code>Subscription|id</code>.<a href="#section-5.1.2-7.2" class="pilcrow">¶</a></p>
</blockquote>
</section>
</div>
<div id="subscribe-error">
<section id="section-5.1.3">
          <h4 id="name-subscribe-error">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-subscribe-error" class="section-name selfRef">Subscribe ERROR</a>
          </h4>
<p id="section-5.1.3-1">When the request for subscription cannot be fulfilled by the Broker, the Broker sends back an <code>ERROR</code> message to the Subscriber<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.3-2">
<pre>    [ERROR, SUBSCRIBE, SUBSCRIBE.Request|id, Details|dict, Error|uri]
</pre><a href="#section-5.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.3-3">where<a href="#section-5.1.3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1.3-4.1">
              <code>SUBSCRIBE.Request</code> is the ID from the original request.<a href="#section-5.1.3-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.1.3-4.2">
              <code>Error</code> is a URI that gives the error of why the request could not be fulfilled.<a href="#section-5.1.3-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.3-5"><em>Example</em><a href="#section-5.1.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.3-6">
<pre>    [8, 32, 713845233, {}, "wamp.error.not_authorized"]
</pre><a href="#section-5.1.3-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unsubscribe-1">
<section id="section-5.1.4">
          <h4 id="name-unsubscribe-2">
<a href="#section-5.1.4" class="section-number selfRef">5.1.4. </a><a href="#name-unsubscribe-2" class="section-name selfRef">UNSUBSCRIBE</a>
          </h4>
<p id="section-5.1.4-1">When a Subscriber is no longer interested in receiving events for a subscription it sends an <code>UNSUBSCRIBE</code> message<a href="#section-5.1.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.4-2">
<pre>    [UNSUBSCRIBE, Request|id, SUBSCRIBED.Subscription|id]
</pre><a href="#section-5.1.4-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.4-3">where<a href="#section-5.1.4-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1.4-4.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Subscriber and used to correlate the Broker's response with the request.<a href="#section-5.1.4-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.1.4-4.2">
              <code>SUBSCRIBED.Subscription</code> is the ID for the subscription to unsubscribe from, originally handed out by the Broker to the Subscriber.<a href="#section-5.1.4-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.4-5"><em>Example</em><a href="#section-5.1.4-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.4-6">
<pre>    [34, 85346237, 5512315355]
</pre><a href="#section-5.1.4-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unsubscribed-1">
<section id="section-5.1.5">
          <h4 id="name-unsubscribed-2">
<a href="#section-5.1.5" class="section-number selfRef">5.1.5. </a><a href="#name-unsubscribed-2" class="section-name selfRef">UNSUBSCRIBED</a>
          </h4>
<p id="section-5.1.5-1">Upon successful unsubscription, the Broker sends an <code>UNSUBSCRIBED</code> message to the Subscriber<a href="#section-5.1.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.5-2">
<pre>    [UNSUBSCRIBED, UNSUBSCRIBE.Request|id]
</pre><a href="#section-5.1.5-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.5-3">where<a href="#section-5.1.5-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1.5-4.1">
              <code>UNSUBSCRIBE.Request</code> is the ID from the original request.<a href="#section-5.1.5-4.1" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.5-5"><em>Example</em><a href="#section-5.1.5-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.5-6">
<pre>    [35, 85346237]
</pre><a href="#section-5.1.5-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unsubscribe-error">
<section id="section-5.1.6">
          <h4 id="name-unsubscribe-error">
<a href="#section-5.1.6" class="section-number selfRef">5.1.6. </a><a href="#name-unsubscribe-error" class="section-name selfRef">Unsubscribe ERROR</a>
          </h4>
<p id="section-5.1.6-1">When the request fails, the Broker sends an <code>ERROR</code><a href="#section-5.1.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.6-2">
<pre>    [ERROR, UNSUBSCRIBE, UNSUBSCRIBE.Request|id, Details|dict, Error|uri]
</pre><a href="#section-5.1.6-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.6-3">where<a href="#section-5.1.6-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.1.6-4.1">
              <code>UNSUBSCRIBE.Request</code> is the ID from the original request.<a href="#section-5.1.6-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.1.6-4.2">
              <code>Error</code> is a URI that gives the error of why the request could not be fulfilled.<a href="#section-5.1.6-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.6-5"><em>Example</em><a href="#section-5.1.6-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1.6-6">
<pre>    [8, 34, 85346237, {}, "wamp.error.no_such_subscription"]
</pre><a href="#section-5.1.6-6" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="publishing-and-events">
<section id="section-5.2">
        <h3 id="name-publishing-and-events">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-publishing-and-events" class="section-name selfRef">Publishing and Events</a>
        </h3>
<p id="section-5.2-1">The message flow between Publishers, a Broker and Subscribers for publishing to topics and dispatching events involves the following messages:<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-5.2-2">
<li id="section-5.2-2.1">
            <code>PUBLISH</code><a href="#section-5.2-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-2.2">
            <code>PUBLISHED</code><a href="#section-5.2-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-2.3">
            <code>EVENT</code><a href="#section-5.2-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-2.4">
            <code>ERROR</code><a href="#section-5.2-2.4" class="pilcrow">¶</a>
</li>
        </ol>
<div class="alignLeft art-text artwork" id="section-5.2-3">
<pre>    ,---------.          ,------.          ,----------.
    |Publisher|          |Broker|          |Subscriber|
    `----+----'          `--+---'          `----+-----'
         |     PUBLISH      |                   |
         |------------------&gt;                   |
         |                  |                   |
         |PUBLISHED or ERROR|                   |
         |&lt;------------------                   |
         |                  |                   |
         |                  |       EVENT       |
         |                  | ------------------&gt;
    ,----+----.          ,--+---.          ,----+-----.
    |Publisher|          |Broker|          |Subscriber|
    `---------'          `------'          `----------'
</pre><a href="#section-5.2-3" class="pilcrow">¶</a>
</div>
<div id="publish-1">
<section id="section-5.2.1">
          <h4 id="name-publish-2">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-publish-2" class="section-name selfRef">PUBLISH</a>
          </h4>
<p id="section-5.2.1-1">When a Publisher requests to publish an event to some topic, it sends a <code>PUBLISH</code> message to a Broker:<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.1-2">
<pre>    [PUBLISH, Request|id, Options|dict, Topic|uri]
</pre><a href="#section-5.2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-3">or<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.1-4">
<pre>    [PUBLISH, Request|id, Options|dict, Topic|uri, Arguments|list]
</pre><a href="#section-5.2.1-4" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-5">or<a href="#section-5.2.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.1-6">
<pre>    [PUBLISH, Request|id, Options|dict, Topic|uri, Arguments|list,
        ArgumentsKw|dict]
</pre><a href="#section-5.2.1-6" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-7">where<a href="#section-5.2.1-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.2.1-8.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Publisher and used to correlate the Broker's response with the request.<a href="#section-5.2.1-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.1-8.2">
              <code>Options</code> is a dictionary that allows to provide additional publication request details in an extensible way. This is described further below.<a href="#section-5.2.1-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.1-8.3">
              <code>Topic</code> is the topic published to.<a href="#section-5.2.1-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.1-8.4">
              <code>Arguments</code> is a list of application-level event payload elements. The list may be of zero length.<a href="#section-5.2.1-8.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.1-8.5">
              <code>ArgumentsKw</code> is an optional dictionary containing application-level event payload, provided as keyword arguments. The dictionary may be empty.<a href="#section-5.2.1-8.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.1-9">If the Broker allows and is able to fulfill the publication, the Broker will send the event to all current Subscribers of the topic of the published event.<a href="#section-5.2.1-9" class="pilcrow">¶</a></p>
<p id="section-5.2.1-10">By default, publications are unacknowledged, and the Broker will not respond, whether the publication was successful indeed or not. This behavior can be changed with the option <code>PUBLISH.Options.acknowledge|bool</code> (see below).<a href="#section-5.2.1-10" class="pilcrow">¶</a></p>
<p id="section-5.2.1-11"><em>Example</em><a href="#section-5.2.1-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.1-12">
<pre>    [16, 239714735, {}, "com.myapp.mytopic1"]
</pre><a href="#section-5.2.1-12" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-13"><em>Example</em><a href="#section-5.2.1-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.1-14">
<pre>    [16, 239714735, {}, "com.myapp.mytopic1", ["Hello, world!"]]
</pre><a href="#section-5.2.1-14" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-15"><em>Example</em><a href="#section-5.2.1-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.1-16">
<pre>    [16, 239714735, {}, "com.myapp.mytopic1", [], {"color": "orange",
        "sizes": [23, 42, 7]}]
</pre><a href="#section-5.2.1-16" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="published-1">
<section id="section-5.2.2">
          <h4 id="name-published-2">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-published-2" class="section-name selfRef">PUBLISHED</a>
          </h4>
<p id="section-5.2.2-1">If the Broker is able to fulfill and allowing the publication, and <code>PUBLISH.Options.acknowledge == true</code>, the Broker replies by sending a <code>PUBLISHED</code> message to the Publisher:<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.2-2">
<pre>    [PUBLISHED, PUBLISH.Request|id, Publication|id]
</pre><a href="#section-5.2.2-2" class="pilcrow">¶</a>
</div>
<p id="section-5.2.2-3">where<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.2.2-4.1">
              <code>PUBLISH.Request</code> is the ID from the original publication request.<a href="#section-5.2.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.2-4.2">
              <code>Publication</code> is an ID chosen by the Broker for the publication.<a href="#section-5.2.2-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.2-5"><em>Example</em><a href="#section-5.2.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.2-6">
<pre>    [17, 239714735, 4429313566]
</pre><a href="#section-5.2.2-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="publish-error">
<section id="section-5.2.3">
          <h4 id="name-publish-error">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-publish-error" class="section-name selfRef">Publish ERROR</a>
          </h4>
<p id="section-5.2.3-1">When the request for publication cannot be fulfilled by the Broker, and <code>PUBLISH.Options.acknowledge == true</code>, the Broker sends back an <code>ERROR</code> message to the Publisher<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.3-2">
<pre>    [ERROR, PUBLISH, PUBLISH.Request|id, Details|dict, Error|uri]
</pre><a href="#section-5.2.3-2" class="pilcrow">¶</a>
</div>
<p id="section-5.2.3-3">where<a href="#section-5.2.3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.2.3-4.1">
              <code>PUBLISH.Request</code> is the ID from the original publication request.<a href="#section-5.2.3-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.3-4.2">
              <code>Error</code> is a URI that gives the error of why the request could not be fulfilled.<a href="#section-5.2.3-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.3-5"><em>Example</em><a href="#section-5.2.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.3-6">
<pre>    [8, 16, 239714735, {}, "wamp.error.not_authorized"]
</pre><a href="#section-5.2.3-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="event-1">
<section id="section-5.2.4">
          <h4 id="name-event-2">
<a href="#section-5.2.4" class="section-number selfRef">5.2.4. </a><a href="#name-event-2" class="section-name selfRef">EVENT</a>
          </h4>
<p id="section-5.2.4-1">When a publication is successful and a Broker dispatches the event, it determines a list of receivers for the event based on Subscribers for the topic published to and, possibly, other information in the event.<a href="#section-5.2.4-1" class="pilcrow">¶</a></p>
<p id="section-5.2.4-2">Note that the Publisher of an event will never receive the published event even if the Publisher is also a Subscriber of the topic published to.<a href="#section-5.2.4-2" class="pilcrow">¶</a></p>
<blockquote id="section-5.2.4-3">
            <p id="section-5.2.4-3.1">The Advanced Profile provides options for more detailed control over publication.<a href="#section-5.2.4-3.1" class="pilcrow">¶</a></p>
</blockquote>
<p id="section-5.2.4-4">When a Subscriber is deemed to be a receiver, the Broker sends the Subscriber an <code>EVENT</code> message:<a href="#section-5.2.4-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.4-5">
<pre>    [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id, Details|dict]
</pre><a href="#section-5.2.4-5" class="pilcrow">¶</a>
</div>
<p id="section-5.2.4-6">or<a href="#section-5.2.4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.4-7">
<pre>    [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id, Details|dict,
        PUBLISH.Arguments|list]
</pre><a href="#section-5.2.4-7" class="pilcrow">¶</a>
</div>
<p id="section-5.2.4-8">or<a href="#section-5.2.4-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.4-9">
<pre>    [EVENT, SUBSCRIBED.Subscription|id, PUBLISHED.Publication|id, Details|dict,
        PUBLISH.Arguments|list, PUBLISH.ArgumentsKw|dict]
</pre><a href="#section-5.2.4-9" class="pilcrow">¶</a>
</div>
<p id="section-5.2.4-10">where<a href="#section-5.2.4-10" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-5.2.4-11.1">
              <code>SUBSCRIBED.Subscription</code> is the ID for the subscription under which the Subscriber receives the event - the ID for the subscription originally handed out by the Broker to the Subscribe.<a href="#section-5.2.4-11.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.4-11.2">
              <code>PUBLISHED.Publication</code> is the ID of the publication of the published event.<a href="#section-5.2.4-11.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.4-11.3">
              <code>Details</code> is a dictionary that allows the Broker to provide additional event details in a extensible way. This is described further below.<a href="#section-5.2.4-11.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.4-11.4">
              <code>PUBLISH.Arguments</code> is the application-level event payload that was provided with the original publication request.<a href="#section-5.2.4-11.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-5.2.4-11.5">
              <code>PUBLISH.ArgumentsKw</code> is the application-level event payload that was provided with the original publication request.<a href="#section-5.2.4-11.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.4-12"><em>Example</em><a href="#section-5.2.4-12" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.4-13">
<pre>    [36, 5512315355, 4429313566, {}]
</pre><a href="#section-5.2.4-13" class="pilcrow">¶</a>
</div>
<p id="section-5.2.4-14"><em>Example</em><a href="#section-5.2.4-14" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.4-15">
<pre>    [36, 5512315355, 4429313566, {}, ["Hello, world!"]]
</pre><a href="#section-5.2.4-15" class="pilcrow">¶</a>
</div>
<p id="section-5.2.4-16"><em>Example</em><a href="#section-5.2.4-16" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2.4-17">
<pre>    [36, 5512315355, 4429313566, {}, [], {"color": "orange", "sizes": [23, 42, 7]}]
</pre><a href="#section-5.2.4-17" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="remote-procedure-calls-1">
<section id="section-6">
      <h2 id="name-remote-procedure-calls-2">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-remote-procedure-calls-2" class="section-name selfRef">Remote Procedure Calls</a>
      </h2>
<p id="section-6-1">All of the following features for Remote Procedure Calls are mandatory for WAMP Basic Profile implementations supporting the respective roles.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="registering-and-unregistering">
<section id="section-6.1">
        <h3 id="name-registering-and-unregisteri">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-registering-and-unregisteri" class="section-name selfRef">Registering and Unregistering</a>
        </h3>
<p id="section-6.1-1">The message flow between Callees and a Dealer for registering and unregistering endpoints to be called over RPC involves the following messages:<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-6.1-2">
<li id="section-6.1-2.1">
            <code>REGISTER</code><a href="#section-6.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-6.1-2.2">
            <code>REGISTERED</code><a href="#section-6.1-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-6.1-2.3">
            <code>UNREGISTER</code><a href="#section-6.1-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-6.1-2.4">
            <code>UNREGISTERED</code><a href="#section-6.1-2.4" class="pilcrow">¶</a>
</li>
          <li id="section-6.1-2.5">
            <code>ERROR</code><a href="#section-6.1-2.5" class="pilcrow">¶</a>
</li>
        </ol>
<div class="alignLeft art-text artwork" id="section-6.1-3">
<pre>    ,------.          ,------.               ,------.
    |Caller|          |Dealer|               |Callee|
    `--+---'          `--+---'               `--+---'
       |                 |                      |
       |                 |                      |
       |                 |       REGISTER       |
       |                 | &lt;---------------------
       |                 |                      |
       |                 |  REGISTERED or ERROR |
       |                 | ---------------------&gt;
       |                 |                      |
       |                 |                      |
       |                 |                      |
       |                 |                      |
       |                 |                      |
       |                 |      UNREGISTER      |
       |                 | &lt;---------------------
       |                 |                      |
       |                 | UNREGISTERED or ERROR|
       |                 | ---------------------&gt;
    ,--+---.          ,--+---.               ,--+---.
    |Caller|          |Dealer|               |Callee|
    `------'          `------'               `------'
</pre><a href="#section-6.1-3" class="pilcrow">¶</a>
</div>
<div id="register-1">
<section id="section-6.1.1">
          <h4 id="name-register-2">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-register-2" class="section-name selfRef">REGISTER</a>
          </h4>
<p id="section-6.1.1-1">A Callee announces the availability of an endpoint implementing a procedure with a Dealer by sending a <code>REGISTER</code> message:<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.1-2">
<pre>    [REGISTER, Request|id, Options|dict, Procedure|uri]
</pre><a href="#section-6.1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1.1-3">where<a href="#section-6.1.1-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1.1-4.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Callee and used to correlate the Dealer's response with the request.<a href="#section-6.1.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.1.1-4.2">
              <code>Options</code> is a dictionary that allows to provide additional registration request details in a extensible way. This is described further below.<a href="#section-6.1.1-4.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.1.1-4.3">
              <code>Procedure</code> is the procedure the Callee wants to register<a href="#section-6.1.1-4.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.1-5"><em>Example</em><a href="#section-6.1.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.1-6">
<pre>    [64, 25349185, {}, "com.myapp.myprocedure1"]
</pre><a href="#section-6.1.1-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="registered-1">
<section id="section-6.1.2">
          <h4 id="name-registered-2">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-registered-2" class="section-name selfRef">REGISTERED</a>
          </h4>
<p id="section-6.1.2-1">If the Dealer is able to fulfill and allowing the registration, it answers by sending a <code>REGISTERED</code> message to the <code>Callee</code>:<a href="#section-6.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.2-2">
<pre>    [REGISTERED, REGISTER.Request|id, Registration|id]
</pre><a href="#section-6.1.2-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1.2-3">where<a href="#section-6.1.2-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1.2-4.1">
              <code>REGISTER.Request</code> is the ID from the original request.<a href="#section-6.1.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.1.2-4.2">
              <code>Registration</code> is an ID chosen by the Dealer for the registration.<a href="#section-6.1.2-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.2-5"><em>Example</em><a href="#section-6.1.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.2-6">
<pre>    [65, 25349185, 2103333224]
</pre><a href="#section-6.1.2-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="register-error">
<section id="section-6.1.3">
          <h4 id="name-register-error">
<a href="#section-6.1.3" class="section-number selfRef">6.1.3. </a><a href="#name-register-error" class="section-name selfRef">Register ERROR</a>
          </h4>
<p id="section-6.1.3-1">When the request for registration cannot be fulfilled by the Dealer, the Dealer sends back an <code>ERROR</code> message to the Callee:<a href="#section-6.1.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.3-2">
<pre>    [ERROR, REGISTER, REGISTER.Request|id, Details|dict, Error|uri]
</pre><a href="#section-6.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1.3-3">where<a href="#section-6.1.3-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1.3-4.1">
              <code>REGISTER.Request</code> is the ID from the original request.<a href="#section-6.1.3-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.1.3-4.2">
              <code>Error</code> is a URI that gives the error of why the request could not be fulfilled.<a href="#section-6.1.3-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.3-5"><em>Example</em><a href="#section-6.1.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.3-6">
<pre>    [8, 64, 25349185, {}, "wamp.error.procedure_already_exists"]
</pre><a href="#section-6.1.3-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unregister-1">
<section id="section-6.1.4">
          <h4 id="name-unregister-2">
<a href="#section-6.1.4" class="section-number selfRef">6.1.4. </a><a href="#name-unregister-2" class="section-name selfRef">UNREGISTER</a>
          </h4>
<p id="section-6.1.4-1">When a Callee is no longer willing to provide an implementation of the registered procedure, it sends an <code>UNREGISTER</code> message to the Dealer:<a href="#section-6.1.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.4-2">
<pre>    [UNREGISTER, Request|id, REGISTERED.Registration|id]
</pre><a href="#section-6.1.4-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1.4-3">where<a href="#section-6.1.4-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1.4-4.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Callee and used to correlate the Dealer's response with the request.<a href="#section-6.1.4-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.1.4-4.2">
              <code>REGISTERED.Registration</code> is the ID for the registration to revoke, originally handed out by the Dealer to the Callee.<a href="#section-6.1.4-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.4-5"><em>Example</em><a href="#section-6.1.4-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.4-6">
<pre>    [66, 788923562, 2103333224]
</pre><a href="#section-6.1.4-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unregistered-1">
<section id="section-6.1.5">
          <h4 id="name-unregistered-2">
<a href="#section-6.1.5" class="section-number selfRef">6.1.5. </a><a href="#name-unregistered-2" class="section-name selfRef">UNREGISTERED</a>
          </h4>
<p id="section-6.1.5-1">Upon successful unregistration, the Dealer sends an <code>UNREGISTERED</code> message to the Callee:<a href="#section-6.1.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.5-2">
<pre>    [UNREGISTERED, UNREGISTER.Request|id]
</pre><a href="#section-6.1.5-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1.5-3">where<a href="#section-6.1.5-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1.5-4.1">
              <code>UNREGISTER.Request</code> is the ID from the original request.<a href="#section-6.1.5-4.1" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.5-5"><em>Example</em><a href="#section-6.1.5-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.5-6">
<pre>    [67, 788923562]
</pre><a href="#section-6.1.5-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="unregister-error">
<section id="section-6.1.6">
          <h4 id="name-unregister-error">
<a href="#section-6.1.6" class="section-number selfRef">6.1.6. </a><a href="#name-unregister-error" class="section-name selfRef">Unregister ERROR</a>
          </h4>
<p id="section-6.1.6-1">When the unregistration request fails, the Dealer sends an <code>ERROR</code> message:<a href="#section-6.1.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.6-2">
<pre>    [ERROR, UNREGISTER, UNREGISTER.Request|id, Details|dict, Error|uri]
</pre><a href="#section-6.1.6-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1.6-3">where<a href="#section-6.1.6-3" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.1.6-4.1">
              <code>UNREGISTER.Request</code> is the ID from the original request.<a href="#section-6.1.6-4.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.1.6-4.2">
              <code>Error</code> is a URI that gives the error of why the request could not be fulfilled.<a href="#section-6.1.6-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.6-5"><em>Example</em><a href="#section-6.1.6-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1.6-6">
<pre>    [8, 66, 788923562, {}, "wamp.error.no_such_registration"]
</pre><a href="#section-6.1.6-6" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="calling-and-invocations">
<section id="section-6.2">
        <h3 id="name-calling-and-invocations">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-calling-and-invocations" class="section-name selfRef">Calling and Invocations</a>
        </h3>
<p id="section-6.2-1">The message flow between Callers, a Dealer and Callees for calling procedures and invoking endpoints involves the following messages:<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-6.2-2">
<li id="section-6.2-2.1">
            <code>CALL</code><a href="#section-6.2-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-2.2">
            <code>RESULT</code><a href="#section-6.2-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-2.3">
            <code>INVOCATION</code><a href="#section-6.2-2.3" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-2.4">
            <code>YIELD</code><a href="#section-6.2-2.4" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-2.5">
            <code>ERROR</code><a href="#section-6.2-2.5" class="pilcrow">¶</a>
</li>
        </ol>
<div class="alignLeft art-text artwork" id="section-6.2-3">
<pre>    ,------.          ,------.          ,------.
    |Caller|          |Dealer|          |Callee|
    `--+---'          `--+---'          `--+---'
       |       CALL      |                 |
       | ----------------&gt;                 |
       |                 |                 |
       |                 |    INVOCATION   |
       |                 | ----------------&gt;
       |                 |                 |
       |                 |  YIELD or ERROR |
       |                 | &lt;----------------
       |                 |                 |
       | RESULT or ERROR |                 |
       | &lt;----------------                 |
    ,--+---.          ,--+---.          ,--+---.
    |Caller|          |Dealer|          |Callee|
    `------'          `------'          `------'
</pre><a href="#section-6.2-3" class="pilcrow">¶</a>
</div>
<p id="section-6.2-4">The execution of remote procedure calls is asynchronous, and there may be more than one call outstanding. A call is called outstanding (from the point of view of the Caller), when a (final) result or error has not yet been received by the Caller.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<div id="call-1">
<section id="section-6.2.1">
          <h4 id="name-call-2">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-call-2" class="section-name selfRef">CALL</a>
          </h4>
<p id="section-6.2.1-1">When a Caller wishes to call a remote procedure, it sends a <code>CALL</code> message to a Dealer:<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-2">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri]
</pre><a href="#section-6.2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.1-3">or<a href="#section-6.2.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-4">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list]
</pre><a href="#section-6.2.1-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.1-5">or<a href="#section-6.2.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-6">
<pre>    [CALL, Request|id, Options|dict, Procedure|uri, Arguments|list,
        ArgumentsKw|dict]
</pre><a href="#section-6.2.1-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2.1-7">where<a href="#section-6.2.1-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2.1-8.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Caller and used to correlate the Dealer's response with the request.<a href="#section-6.2.1-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.1-8.2">
              <code>Options</code> is a dictionary that allows to provide additional call request details in an extensible way. This is described further below.<a href="#section-6.2.1-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.1-8.3">
              <code>Procedure</code> is the URI of the procedure to be called.<a href="#section-6.2.1-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.1-8.4">
              <code>Arguments</code> is a list of positional call arguments (each of arbitrary type). The list may be of zero length.<a href="#section-6.2.1-8.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.1-8.5">
              <code>ArgumentsKw</code> is a dictionary of keyword call arguments (each of arbitrary type). The dictionary may be empty.<a href="#section-6.2.1-8.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.2.1-9"><em>Example</em><a href="#section-6.2.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-10">
<pre>    [48, 7814135, {}, "com.myapp.ping"]
</pre><a href="#section-6.2.1-10" class="pilcrow">¶</a>
</div>
<p id="section-6.2.1-11"><em>Example</em><a href="#section-6.2.1-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-12">
<pre>    [48, 7814135, {}, "com.myapp.echo", ["Hello, world!"]]
</pre><a href="#section-6.2.1-12" class="pilcrow">¶</a>
</div>
<p id="section-6.2.1-13"><em>Example</em><a href="#section-6.2.1-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-14">
<pre>    [48, 7814135, {}, "com.myapp.add2", [23, 7]]
</pre><a href="#section-6.2.1-14" class="pilcrow">¶</a>
</div>
<p id="section-6.2.1-15"><em>Example</em><a href="#section-6.2.1-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.1-16">
<pre>    [48, 7814135, {}, "com.myapp.user.new", ["johnny"],
        {"firstname": "John", "surname": "Doe"}]
</pre><a href="#section-6.2.1-16" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="invocation-1">
<section id="section-6.2.2">
          <h4 id="name-invocation-2">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-invocation-2" class="section-name selfRef">INVOCATION</a>
          </h4>
<p id="section-6.2.2-1">If the Dealer is able to fulfill (mediate) the call and it allows the call, it sends a <code>INVOCATION</code> message to the respective Callee implementing the procedure:<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-2">
<pre>    [INVOCATION, Request|id, REGISTERED.Registration|id, Details|dict]
</pre><a href="#section-6.2.2-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.2-3">or<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-4">
<pre>    [INVOCATION, Request|id, REGISTERED.Registration|id, Details|dict,
        CALL.Arguments|list]
</pre><a href="#section-6.2.2-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.2-5">or<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-6">
<pre>    [INVOCATION, Request|id, REGISTERED.Registration|id, Details|dict,
        CALL.Arguments|list, CALL.ArgumentsKw|dict]
</pre><a href="#section-6.2.2-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2.2-7">where<a href="#section-6.2.2-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2.2-8.1">
              <code>Request</code> is a sequential ID in the <em>session scope</em>, incremented by the Dealer and used to correlate the <em>Callee's</em> response with the request.<a href="#section-6.2.2-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.2-8.2">
              <code>REGISTERED.Registration</code> is the registration ID under which the procedure was registered at the Dealer.<a href="#section-6.2.2-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.2-8.3">
              <code>Details</code> is a dictionary that allows to provide additional invocation request details in an extensible way. This is described further below.<a href="#section-6.2.2-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.2-8.4">
              <code>CALL.Arguments</code> is the original list of positional call arguments as provided by the Caller.<a href="#section-6.2.2-8.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.2-8.5">
              <code>CALL.ArgumentsKw</code> is the original dictionary of keyword call arguments as provided by the Caller.<a href="#section-6.2.2-8.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.2.2-9"><em>Example</em><a href="#section-6.2.2-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-10">
<pre>    [68, 6131533, 9823526, {}]
</pre><a href="#section-6.2.2-10" class="pilcrow">¶</a>
</div>
<p id="section-6.2.2-11"><em>Example</em><a href="#section-6.2.2-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-12">
<pre>    [68, 6131533, 9823527, {}, ["Hello, world!"]]
</pre><a href="#section-6.2.2-12" class="pilcrow">¶</a>
</div>
<p id="section-6.2.2-13"><em>Example</em><a href="#section-6.2.2-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-14">
<pre>    [68, 6131533, 9823528, {}, [23, 7]]
</pre><a href="#section-6.2.2-14" class="pilcrow">¶</a>
</div>
<p id="section-6.2.2-15"><em>Example</em><a href="#section-6.2.2-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.2-16">
<pre>    [68, 6131533, 9823529, {}, ["johnny"], {"firstname": "John", "surname": "Doe"}]
</pre><a href="#section-6.2.2-16" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="yield-1">
<section id="section-6.2.3">
          <h4 id="name-yield-2">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-yield-2" class="section-name selfRef">YIELD</a>
          </h4>
<p id="section-6.2.3-1">If the Callee is able to successfully process and finish the execution of the call, it answers by sending a <code>YIELD</code> message to the Dealer:<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-2">
<pre>    [YIELD, INVOCATION.Request|id, Options|dict]
</pre><a href="#section-6.2.3-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.3-3">or<a href="#section-6.2.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-4">
<pre>    [YIELD, INVOCATION.Request|id, Options|dict, Arguments|list]
</pre><a href="#section-6.2.3-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.3-5">or<a href="#section-6.2.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-6">
<pre>    [YIELD, INVOCATION.Request|id, Options|dict, Arguments|list, ArgumentsKw|dict]
</pre><a href="#section-6.2.3-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2.3-7">where<a href="#section-6.2.3-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2.3-8.1">
              <code>INVOCATION.Request</code> is the ID from the original invocation request.<a href="#section-6.2.3-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.3-8.2">
              <code>Options</code>is a dictionary that allows to provide additional options.<a href="#section-6.2.3-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.3-8.3">
              <code>Arguments</code> is a list of positional result elements (each of arbitrary type). The list may be of zero length.<a href="#section-6.2.3-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.3-8.4">
              <code>ArgumentsKw</code> is a dictionary of keyword result elements (each of arbitrary type). The dictionary may be empty.<a href="#section-6.2.3-8.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.2.3-9"><em>Example</em><a href="#section-6.2.3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-10">
<pre>    [70, 6131533, {}]
</pre><a href="#section-6.2.3-10" class="pilcrow">¶</a>
</div>
<p id="section-6.2.3-11"><em>Example</em><a href="#section-6.2.3-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-12">
<pre>    [70, 6131533, {}, ["Hello, world!"]]
</pre><a href="#section-6.2.3-12" class="pilcrow">¶</a>
</div>
<p id="section-6.2.3-13"><em>Example</em><a href="#section-6.2.3-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-14">
<pre>    [70, 6131533, {}, [30]]
</pre><a href="#section-6.2.3-14" class="pilcrow">¶</a>
</div>
<p id="section-6.2.3-15"><em>Example</em><a href="#section-6.2.3-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.3-16">
<pre>    [70, 6131533, {}, [], {"userid": 123, "karma": 10}]
</pre><a href="#section-6.2.3-16" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="result-1">
<section id="section-6.2.4">
          <h4 id="name-result-2">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-result-2" class="section-name selfRef">RESULT</a>
          </h4>
<p id="section-6.2.4-1">The Dealer will then send a <code>RESULT</code> message to the original Caller:<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-2">
<pre>    [RESULT, CALL.Request|id, Details|dict]
</pre><a href="#section-6.2.4-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-3">or<a href="#section-6.2.4-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-4">
<pre>    [RESULT, CALL.Request|id, Details|dict, YIELD.Arguments|list]
</pre><a href="#section-6.2.4-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-5">or<a href="#section-6.2.4-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-6">
<pre>    [RESULT, CALL.Request|id, Details|dict, YIELD.Arguments|list,
        YIELD.ArgumentsKw|dict]
</pre><a href="#section-6.2.4-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-7">where<a href="#section-6.2.4-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2.4-8.1">
              <code>CALL.Request</code> is the ID from the original call request.<a href="#section-6.2.4-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.4-8.2">
              <code>Details</code> is a dictionary of additional details.<a href="#section-6.2.4-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.4-8.3">
              <code>YIELD.Arguments</code> is the original list of positional result elements as returned by the Callee.<a href="#section-6.2.4-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.4-8.4">
              <code>YIELD.ArgumentsKw</code> is the original dictionary of keyword result elements as returned by the Callee.<a href="#section-6.2.4-8.4" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.2.4-9"><em>Example</em><a href="#section-6.2.4-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-10">
<pre>    [50, 7814135, {}]
</pre><a href="#section-6.2.4-10" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-11"><em>Example</em><a href="#section-6.2.4-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-12">
<pre>    [50, 7814135, {}, ["Hello, world!"]]
</pre><a href="#section-6.2.4-12" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-13"><em>Example</em><a href="#section-6.2.4-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-14">
<pre>    [50, 7814135, {}, [30]]
</pre><a href="#section-6.2.4-14" class="pilcrow">¶</a>
</div>
<p id="section-6.2.4-15"><em>Example</em><a href="#section-6.2.4-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.4-16">
<pre>    [50, 7814135, {}, [], {"userid": 123, "karma": 10}]
</pre><a href="#section-6.2.4-16" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="invocation-error">
<section id="section-6.2.5">
          <h4 id="name-invocation-error">
<a href="#section-6.2.5" class="section-number selfRef">6.2.5. </a><a href="#name-invocation-error" class="section-name selfRef">Invocation ERROR</a>
          </h4>
<p id="section-6.2.5-1">If the Callee is unable to process or finish the execution of the call, or the application code implementing the procedure raises an exception or otherwise runs into an error, the Callee sends an <code>ERROR</code> message to the Dealer:<a href="#section-6.2.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.5-2">
<pre>    [ERROR, INVOCATION, INVOCATION.Request|id, Details|dict, Error|uri]
</pre><a href="#section-6.2.5-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.5-3">or<a href="#section-6.2.5-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.5-4">
<pre>    [ERROR, INVOCATION, INVOCATION.Request|id, Details|dict, Error|uri, Arguments|list]
</pre><a href="#section-6.2.5-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.5-5">or<a href="#section-6.2.5-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.5-6">
<pre>    [ERROR, INVOCATION, INVOCATION.Request|id, Details|dict, Error|uri, Arguments|list,
        ArgumentsKw|dict]
</pre><a href="#section-6.2.5-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2.5-7">where<a href="#section-6.2.5-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2.5-8.1">
              <code>INVOCATION.Request</code> is the ID from the original <code>INVOCATION</code> request previously sent by the Dealer to the Callee.<a href="#section-6.2.5-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.5-8.2">
              <code>Details</code> is a dictionary with additional error details.<a href="#section-6.2.5-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.5-8.3">
              <code>Error</code> is a URI that identifies the error of why the request could not be fulfilled.<a href="#section-6.2.5-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.5-8.4">
              <code>Arguments</code> is a list containing arbitrary, application defined, positional error information. This will be forwarded by the Dealer to the Caller that initiated the call.<a href="#section-6.2.5-8.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.5-8.5">
              <code>ArgumentsKw</code> is a dictionary containing arbitrary, application defined, keyword-based error information. This will be forwarded by the Dealer to the Caller that initiated the call.<a href="#section-6.2.5-8.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.2.5-9"><em>Example</em><a href="#section-6.2.5-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.5-10">
<pre>    [8, 68, 6131533, {}, "com.myapp.error.object_write_protected",
        ["Object is write protected."], {"severity": 3}]
</pre><a href="#section-6.2.5-10" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="call-error">
<section id="section-6.2.6">
          <h4 id="name-call-error">
<a href="#section-6.2.6" class="section-number selfRef">6.2.6. </a><a href="#name-call-error" class="section-name selfRef">Call ERROR</a>
          </h4>
<p id="section-6.2.6-1">The Dealer will then send a <code>ERROR</code> message to the original Caller:<a href="#section-6.2.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.6-2">
<pre>    [ERROR, CALL, CALL.Request|id, Details|dict, Error|uri]
</pre><a href="#section-6.2.6-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2.6-3">or<a href="#section-6.2.6-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.6-4">
<pre>    [ERROR, CALL, CALL.Request|id, Details|dict, Error|uri, Arguments|list]
</pre><a href="#section-6.2.6-4" class="pilcrow">¶</a>
</div>
<p id="section-6.2.6-5">or<a href="#section-6.2.6-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.6-6">
<pre>    [ERROR, CALL, CALL.Request|id, Details|dict, Error|uri, Arguments|list,
        ArgumentsKw|dict]
</pre><a href="#section-6.2.6-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2.6-7">where<a href="#section-6.2.6-7" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-6.2.6-8.1">
              <code>CALL.Request</code> is the ID from the original <code>CALL</code> request sent by the Caller to the Dealer.<a href="#section-6.2.6-8.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.6-8.2">
              <code>Details</code> is a dictionary with additional error details.<a href="#section-6.2.6-8.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.6-8.3">
              <code>Error</code> is a URI identifying the type of error as returned by the Callee to the Dealer.<a href="#section-6.2.6-8.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.6-8.4">
              <code>Arguments</code> is a list containing the original error payload list as returned by the Callee to the Dealer.<a href="#section-6.2.6-8.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-6.2.6-8.5">
              <code>ArgumentsKw</code> is a dictionary containing the original error payload dictionary as returned by the Callee to the Dealer<a href="#section-6.2.6-8.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.2.6-9"><em>Example</em><a href="#section-6.2.6-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.6-10">
<pre>    [8, 48, 7814135, {}, "com.myapp.error.object_write_protected",
        ["Object is write protected."], {"severity": 3}]
</pre><a href="#section-6.2.6-10" class="pilcrow">¶</a>
</div>
<p id="section-6.2.6-11">If the original call already failed at the Dealer <strong>before</strong> the call would have been forwarded to any Callee, the Dealer will send an <code>ERROR</code> message to the Caller:<a href="#section-6.2.6-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.6-12">
<pre>    [ERROR, CALL, CALL.Request|id, Details|dict, Error|uri]
</pre><a href="#section-6.2.6-12" class="pilcrow">¶</a>
</div>
<p id="section-6.2.6-13"><em>Example</em><a href="#section-6.2.6-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2.6-14">
<pre>    [8, 48, 7814135, {}, "wamp.error.no_such_procedure"]
</pre><a href="#section-6.2.6-14" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="rpc-caller-leaving">
<section id="section-6.3">
        <h3 id="name-caller-leaving-during-an-rp">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-caller-leaving-during-an-rp" class="section-name selfRef">Caller Leaving During an RPC Invocation</a>
        </h3>
<p id="section-6.3-1">If, after the <em>Dealer</em> sends an INVOCATION but before it receives a YIELD or ERROR response, the <em>Dealer</em> detects the original <em>Caller</em> leaving or disconnecting, then the <em>Dealer</em> shall send an INTERRUPT to the <em>Callee</em> if both the <em>Dealer</em> and <em>Callee</em> support the <em><a href="#rpc-call-canceling">Call Canceling</a></em> advanced feature. That INTERRUPT message MUST have <code>Options.mode</code> set to <code>"killnowait"</code> to indicate to the <em>Callee</em> that no response should be sent for the INTERRUPT.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.3-2">
<pre>    ,------.          ,------.          ,------.
    |Caller|          |Dealer|          |Callee|
    `--+---'          `--+---'          `--+---'
       |       CALL      |                 |
       | ----------------&gt;                 |
       |                 |    INVOCATION   |
       |                 | ----------------&gt;
    ,--+---.             |                 |
    |Caller|             |                 |
    `------'             |                 |
     (gone)              |                 |
                         |    INTERRUPT    |
                         | ----------------&gt;
                         |                 |
                      ,--+---.          ,--+---.
                      |Dealer|          |Callee|
                      `------'          `------'
</pre><a href="#section-6.3-2" class="pilcrow">¶</a>
</div>
<p id="section-6.3-3">If either the <em>Dealer</em> or the <em>Callee</em> does not support the <em>Call Canceling</em> feature, then an INTERRUPT message shall NOT sent in this scenario. Whether or not call canceling is supported, the <em>Dealer</em> shall be prepared to discard a YIELD or ERROR response associated with that defunct call request.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rpc-callee-leaving">
<section id="section-6.4">
        <h3 id="name-callee-leaving-during-an-rp">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-callee-leaving-during-an-rp" class="section-name selfRef">Callee Leaving During an RPC Invocation</a>
        </h3>
<p id="section-6.4-1">After sending an INVOCATION message, if a <em>Dealer</em> detects that the <em>Callee</em> has left/disconnected without sending a final YIELD or ERROR response, then the <em>Dealer</em> SHALL return an ERROR message back to the Caller with a <code>wamp.error.cancelled</code> URI. The <em>Dealer</em> MAY provide additional information via the ERROR payload arguments to clarify that the cancellation is due to the <em>Callee</em> leaving before the call could be completed.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.4-2">
<pre>    ,------.          ,------.          ,------.
    |Caller|          |Dealer|          |Callee|
    `--+---'          `--+---'          `--+---'
       |       CALL      |                 |
       | ----------------&gt;                 |
       |                 |    INVOCATION   |
       |                 | ----------------&gt;
       |                 |                 |
       |                 |              ,--+---.
       |                 |              |Callee|
       |                 |              `------'
       |      ERROR      |               (gone)
       |&lt;--------------- |
       |                 |
    ,--+---.          ,--+---.
    |Caller|          |Dealer|
    `------'          `------'
</pre><a href="#section-6.4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="security-model">
<section id="section-7">
      <h2 id="name-security-model">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-model" class="section-name selfRef">Security Model</a>
      </h2>
<p id="section-7-1">The following discusses the security model for the Basic Profile. Any changes or extensions to this for the Advanced Profile are discussed further on as part of the Advanced Profile definition.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">All WAMP implementations, in particular Routers MUST support the following ordering guarantees.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">A WAMP Advanced Profile may provide applications options to relax ordering guarantees, in particular with distributed calls.<a href="#section-7-3" class="pilcrow">¶</a></p>
<div id="ordering-guarantees">
<section id="section-7.1">
        <h3 id="name-ordering-guarantees">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-ordering-guarantees" class="section-name selfRef">Ordering Guarantees</a>
        </h3>
<p id="section-7.1-1"><strong>Publish &amp; Subscribe Ordering</strong><a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">Regarding <strong>Publish &amp; Subscribe</strong>, the ordering guarantees are as follows:<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">If <em>Subscriber A</em> is subscribed to both <strong>Topic 1</strong> and <strong>Topic 2</strong>, and <em>Publisher B</em> first publishes an <strong>Event 1</strong> to <strong>Topic 1</strong> and then an <strong>Event 2</strong> to <strong>Topic 2</strong>, then <em>Subscriber A</em> will first receive <strong>Event 1</strong> and then <strong>Event 2</strong>. This also holds if <strong>Topic 1</strong> and <strong>Topic 2</strong> are identical.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">In other words, WAMP guarantees ordering of events between any given <em>pair</em> of Publisher and Subscriber.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<p id="section-7.1-5">Further, if <em>Subscriber A</em> subscribes to <strong>Topic 1</strong>, the <code>SUBSCRIBED</code> message will be sent by the <em>Broker</em> to <em>Subscriber A</em> before any <code>EVENT</code> message for <strong>Topic 1</strong>.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1-6">There is no guarantee regarding the order of return for multiple subsequent subscribe requests. A subscribe request might require the <em>Broker</em> to do a time-consuming lookup in some database, whereas another subscribe request second might be permissible immediately.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
<p id="section-7.1-7"><strong>Remote Procedure Call Ordering</strong><a href="#section-7.1-7" class="pilcrow">¶</a></p>
<p id="section-7.1-8">Regarding <strong>Remote Procedure Calls</strong>, the ordering guarantees are as follows:<a href="#section-7.1-8" class="pilcrow">¶</a></p>
<p id="section-7.1-9">If <em>Callee A</em> has registered endpoints for both <strong>Procedure 1</strong> and <strong>Procedure 2</strong>, and <em>Caller B</em> first issues a <strong>Call 1</strong> to <strong>Procedure 1</strong> and then a <strong>Call 2</strong> to <strong>Procedure 2</strong>, and both calls are routed to <em>Callee A</em>, then <em>Callee A</em> will first receive an invocation corresponding to <strong>Call 1</strong> and then <strong>Call 2</strong>. This also holds if <strong>Procedure 1</strong> and <strong>Procedure 2</strong> are identical.<a href="#section-7.1-9" class="pilcrow">¶</a></p>
<p id="section-7.1-10">In other words, WAMP guarantees ordering of invocations between any given <em>pair</em> of Caller and Callee.<a href="#section-7.1-10" class="pilcrow">¶</a></p>
<p id="section-7.1-11">There are no guarantees on the order of call results and errors in relation to <em>different</em> calls, since the execution of calls upon different invocations of endpoints in Callees are running independently. A first call might require an expensive, long-running computation, whereas a second, subsequent call might finish immediately.<a href="#section-7.1-11" class="pilcrow">¶</a></p>
<p id="section-7.1-12">Further, if <em>Callee A</em> registers for <strong>Procedure 1</strong>, the <code>REGISTERED</code> message will be sent by <em>Dealer</em> to <em>Callee A</em> before any <code>INVOCATION</code> message for <strong>Procedure 1</strong>.<a href="#section-7.1-12" class="pilcrow">¶</a></p>
<p id="section-7.1-13">There is no guarantee regarding the order of return for multiple subsequent register requests. A register request might require the <em>Broker</em> to do a time-consuming lookup in some database, whereas another register request second might be permissible immediately.<a href="#section-7.1-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transport-encryption-and-integrity">
<section id="section-7.2">
        <h3 id="name-transport-encryption-and-in">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-transport-encryption-and-in" class="section-name selfRef">Transport Encryption and Integrity</a>
        </h3>
<p id="section-7.2-1">WAMP transports may provide (optional) transport-level encryption and integrity verification. If so, encryption and integrity is point-to-point: between a Client and the Router it is connected to.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">Transport-level encryption and integrity is solely at the transport-level and transparent to WAMP. WAMP itself deliberately does not specify any kind of transport-level encryption.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2-3">Implementations that offer TCP based transport such as WAMP-over-WebSocket or WAMP-over-RawSocket SHOULD implement Transport Layer Security (TLS).<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<p id="section-7.2-4">WAMP deployments are encouraged to stick to a TLS-only policy with the TLS code and setup being hardened.<a href="#section-7.2-4" class="pilcrow">¶</a></p>
<p id="section-7.2-5">Further, when a Client connects to a Router over a local-only transport such as Unix domain sockets, the integrity of the data transmitted is implicit (the OS kernel is trusted), and the privacy of the data transmitted can be assured using file system permissions (no one can tap a Unix domain socket without appropriate permissions or being root).<a href="#section-7.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="router-authentication">
<section id="section-7.3">
        <h3 id="name-router-authentication">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-router-authentication" class="section-name selfRef">Router Authentication</a>
        </h3>
<p id="section-7.3-1">To authenticate Routers to Clients, deployments MUST run TLS and Clients MUST verify the Router server certificate presented. WAMP itself does not provide mechanisms to authenticate a Router (only a Client).<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">The verification of the Router server certificate can happen<a href="#section-7.3-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="compact type-1" id="section-7.3-3">
<li id="section-7.3-3.1">against a certificate trust database that comes with the Clients operating system<a href="#section-7.3-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-7.3-3.2">against an issuing certificate/key hard-wired into the Client<a href="#section-7.3-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-7.3-3.3">by using new mechanisms like DNS-based Authentication of Named Enitities (DNSSEC)/TLSA<a href="#section-7.3-3.3" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-7.3-4">Further, when a Client connects to a Router over a local-only transport such as Unix domain sockets, the file system permissions can be used to create implicit trust. E.g. if only the OS user under which the Router runs has the permission to create a Unix domain socket under a specific path, Clients connecting to that path can trust in the router authenticity.<a href="#section-7.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="client-authentication">
<section id="section-7.4">
        <h3 id="name-client-authentication">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-client-authentication" class="section-name selfRef">Client Authentication</a>
        </h3>
<p id="section-7.4-1">Authentication of a Client to a Router at the WAMP level is not part of the basic profile.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<p id="section-7.4-2">When running over TLS, a Router MAY authenticate a Client at the transport level by doing a <em>client certificate based authentication</em>.<a href="#section-7.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="routers-are-trusted">
<section id="section-7.5">
        <h3 id="name-routers-are-trusted">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-routers-are-trusted" class="section-name selfRef">Routers are trusted</a>
        </h3>
<p id="section-7.5-1">Routers are <em>trusted</em> by Clients. In particular, Routers can read (and modify) any application payload transmitted in events, calls, call results and call errors (the <code>Arguments</code> or <code>ArgumentsKw</code> message fields).<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<p id="section-7.5-2">Hence, Routers do not provide confidentiality with respect to application payload, and also do not provide authenticity or integrity of application payloads that could be verified by a receiving Client.<a href="#section-7.5-2" class="pilcrow">¶</a></p>
<p id="section-7.5-3">Routers need to read the application payloads in cases of automatic conversion between different serialization formats.<a href="#section-7.5-3" class="pilcrow">¶</a></p>
<p id="section-7.5-4">Further, Routers are trusted to <strong>actually perform</strong> routing as specified. E.g. a Client that publishes an event has to trust a Router that the event is actually dispatched to all (eligible) Subscribers by the Router.<a href="#section-7.5-4" class="pilcrow">¶</a></p>
<p id="section-7.5-5">A rogue Router might deny normal routing operation without a Client taking notice.<a href="#section-7.5-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="basic-profile-uris">
<section id="section-8">
      <h2 id="name-basic-profile-uris">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-basic-profile-uris" class="section-name selfRef">Basic Profile URIs</a>
      </h2>
<p id="section-8-1">WAMP pre-defines the following error URIs for the <strong>Basic Profile</strong>. WAMP peers SHOULD only use the defined error messages.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2"><strong>Incorrect URIs</strong><a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">When a Peer provides an incorrect URI for any URI-based attribute of a WAMP message (e.g. realm, topic), then the other Peer MUST respond with an <code>ERROR</code> message and give the following <em>Error URI</em>:<a href="#section-8-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-4">
<pre>    wamp.error.invalid_uri
</pre><a href="#section-8-4" class="pilcrow">¶</a>
</div>
<p id="section-8-5"><strong>Interaction</strong><a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">Peer provided an incorrect URI for any URI-based attribute of WAMP message, such as realm, topic or procedure<a href="#section-8-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-7">
<pre>    wamp.error.invalid_uri
</pre><a href="#section-8-7" class="pilcrow">¶</a>
</div>
<p id="section-8-8">A Dealer could not perform a call, since no procedure is currently registered under the given URI.<a href="#section-8-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-9">
<pre>    wamp.error.no_such_procedure
</pre><a href="#section-8-9" class="pilcrow">¶</a>
</div>
<p id="section-8-10">A procedure could not be registered, since a procedure with the given URI is already registered.<a href="#section-8-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-11">
<pre>    wamp.error.procedure_already_exists
</pre><a href="#section-8-11" class="pilcrow">¶</a>
</div>
<p id="section-8-12">A Dealer could not perform an unregister, since the given registration is not active.<a href="#section-8-12" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-13">
<pre>    wamp.error.no_such_registration
</pre><a href="#section-8-13" class="pilcrow">¶</a>
</div>
<p id="section-8-14">A Broker could not perform an unsubscribe, since the given subscription is not active.<a href="#section-8-14" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-15">
<pre>    wamp.error.no_such_subscription
</pre><a href="#section-8-15" class="pilcrow">¶</a>
</div>
<p id="section-8-16">A call failed since the given argument types or values are not acceptable to the called procedure. In this case the Callee may throw this error. Alternatively a Router may throw this error if it performed <em>payload validation</em> of a call, call result, call error or publish, and the payload did not conform to the requirements.<a href="#section-8-16" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-17">
<pre>    wamp.error.invalid_argument
</pre><a href="#section-8-17" class="pilcrow">¶</a>
</div>
<p id="section-8-18">A <em>Dealer</em> or <em>Callee</em> canceled a call previously issued<a href="#section-8-18" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-19">
<pre>    wamp.error.canceled
</pre><a href="#section-8-19" class="pilcrow">¶</a>
</div>
<p id="section-8-20">A message could not be delivered due to transport payload size limits.<a href="#section-8-20" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-21">
<pre>    wamp.error.payload_size_exceeded
</pre><a href="#section-8-21" class="pilcrow">¶</a>
</div>
<p id="section-8-22"><strong>Session Close</strong><a href="#section-8-22" class="pilcrow">¶</a></p>
<p id="section-8-23">The Peer is shutting down completely - used as a <code>GOODBYE</code> (or <code>ABORT</code>) reason.<a href="#section-8-23" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-24">
<pre>    wamp.close.system_shutdown
</pre><a href="#section-8-24" class="pilcrow">¶</a>
</div>
<p id="section-8-25">The Peer want to leave the realm - used as a <code>GOODBYE</code> reason.<a href="#section-8-25" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-26">
<pre>    wamp.close.close_realm
</pre><a href="#section-8-26" class="pilcrow">¶</a>
</div>
<p id="section-8-27">A Peer acknowledges ending of a session - used as a <code>GOODBYE</code> reply reason.<a href="#section-8-27" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-28">
<pre>    wamp.close.goodbye_and_out
</pre><a href="#section-8-28" class="pilcrow">¶</a>
</div>
<p id="section-8-29">A Peer received invalid WAMP protocol message (e.g. <code>HELLO</code> message after session was already established) - used as a <code>ABORT</code> reply reason. More detailed information may be provided by using the <code>Arguments|list</code> or <code>ArgumentsKw|dict</code>.<a href="#section-8-29" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-30">
<pre>    wamp.error.protocol_violation
</pre><a href="#section-8-30" class="pilcrow">¶</a>
</div>
<p id="section-8-31"><strong>Authorization</strong><a href="#section-8-31" class="pilcrow">¶</a></p>
<p id="section-8-32">A join, call, register, publish or subscribe failed, since the Peer is not authorized to perform the operation.<a href="#section-8-32" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-33">
<pre>    wamp.error.not_authorized
</pre><a href="#section-8-33" class="pilcrow">¶</a>
</div>
<p id="section-8-34">A Dealer or Broker could not determine if the Peer is authorized to perform a join, call, register, publish or subscribe, since the authorization operation <em>itself</em> failed. E.g. a custom authorizer did run into an error.<a href="#section-8-34" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-35">
<pre>    wamp.error.authorization_failed
</pre><a href="#section-8-35" class="pilcrow">¶</a>
</div>
<p id="section-8-36">Peer wanted to join a non-existing realm (and the Router did not allow to auto-create the realm).<a href="#section-8-36" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-37">
<pre>    wamp.error.no_such_realm
</pre><a href="#section-8-37" class="pilcrow">¶</a>
</div>
<p id="section-8-38">A Peer was to be authenticated under a Role that does not (or no longer) exists on the Router. For example, the Peer was successfully authenticated, but the Role configured does not exists - hence there is some misconfiguration in the Router.<a href="#section-8-38" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-39">
<pre>    wamp.error.no_such_role
</pre><a href="#section-8-39" class="pilcrow">¶</a>
</div>
<div id="terminology">
<section id="section-8.1">
        <h3 id="name-terminology">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-8.1-1">This chapter contains a list of technical terms used in this specification, along with their respective meanings.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">Implementations SHOULD use terms as defined here in their public interfaces and documentation,
and SHOULD NOT reinvent or reinterpret terms. Users SHOULD be able to transfer their WAMP knowledge
from one implementation to another.
This is to support the overarching goal of WAMP to free application developers from restrictions when
building distributed applications, both at the network level, and when choosing (or switching) the WAMP
implementations used.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<p id="section-8.1-3">Our goal is to maximize <strong>user choice and experience</strong> when developing WAMP-based applications,
both formally (open protocol and open source) as well as practically (switching costs).<a href="#section-8.1-3" class="pilcrow">¶</a></p>
<div id="fundamental">
<section id="section-8.1.1">
          <h4 id="name-fundamental">
<a href="#section-8.1.1" class="section-number selfRef">8.1.1. </a><a href="#name-fundamental" class="section-name selfRef">Fundamental</a>
          </h4>
<table class="left" id="table-3">
            <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Term</th>
                <th class="text-left" rowspan="1" colspan="1">Definition</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>User</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A person (or organization) running a WAMP <em>Client</em> or <em>Router</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Client</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A program run by a <em>User</em>, with application code using WAMP for application-level communications</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Router</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A program run by a <em>User</em>, with middleware code using WAMP to provide application routing services</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Peer</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A WAMP <em>Client</em> or <em>Router</em>. An implementation might embed, provide or use both roles</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Realm</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">Isolated WAMP URI namespace serving as a routing and administrative domain, optionally protected by <strong>AA</strong>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Transport</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A message-based, reliable, ordered, bidirectional (full-duplex) channel over which <em>Peers</em> communicate</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Connection</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">An underlying entity (if any) carrying the <em>Transport</em>, e.g. a network connection, pipe, queue or such</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Session</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">Transient conversation between a <em>Client</em> and a <em>Router</em>, within a <em>Realm</em> and over a <em>Transport</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Message</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">Indivisible unit of information transmitted between peers</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Serializer</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">Encodes WAMP messages, with application payloads, into byte strings for transport</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
<div id="authentication-and-authorization-aa">
<section id="section-8.1.2">
          <h4 id="name-authentication-and-authoriz">
<a href="#section-8.1.2" class="section-number selfRef">8.1.2. </a><a href="#name-authentication-and-authoriz" class="section-name selfRef">Authentication and Authorization (AA)</a>
          </h4>
<table class="left" id="table-4">
            <caption><a href="#table-4" class="selfRef">Table 4</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Term</th>
                <th class="text-left" rowspan="1" colspan="1">Definition</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Authentication</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">Establishes the identity of a <em>Session</em> within a <em>Realm</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Principal</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Principal</em> (<code>authid</code>) is any <em>User</em> that can be authenticated under a <em>Realm</em> (<code>realm</code>) and runs in the security context of a <em>Role</em> (<code>authrole</code>) within that <em>Realm</em>.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Credentials</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">The authentication information and secrets used during</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Authorization</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A decision on permitting a <em>Principal</em> to perform a given <em>Action</em> on an <em>URI or URI pattern</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Access Control</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">Policy for selective restriction of <em>Actions</em> on <em>URIs or URI patterns</em> performed by <em>Principals</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Role-based Access Control (RBAC)</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">An <em>Access Control</em> policy based on <em>Realm</em> (<code>realm</code>), <em>Principal</em>'s <em>Role</em> (<code>authrole</code>), <em>URI or URI pattern</em>, and <em>Action</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Discretionary Access Control</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">An <em>Access Control</em> policy controlled by <em>Users</em> and enforced by <em>Routers</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Mandatory Access Control</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">An <em>Access Control</em> policy controlled by <em>Router Administrators</em> or <em>Realm Owners</em>, and enforced by <em>Routers</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Capability-based Access Control</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">An <em>Access Control</em> policy where <em>Callers</em>, <em>Callees</em>, <em>Publishers</em>, <em>Subscribers</em> directly share capabilities with each other</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Subject</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">The originating <em>Session</em> of an <em>Action</em> in the context of <em>Authorization</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Object</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A (fully qualified) <em>URI or URI pattern</em> representing the target of an <em>Action</em> in the context of <em>Authorization</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Action</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">One of the four core WAMP operations: <strong>register</strong>, <strong>call</strong>, <strong>subscribe</strong>, and <strong>publish</strong>
</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
<div id="remote-procedure-calls-2">
<section id="section-8.1.3">
          <h4 id="name-remote-procedure-calls-3">
<a href="#section-8.1.3" class="section-number selfRef">8.1.3. </a><a href="#name-remote-procedure-calls-3" class="section-name selfRef">Remote Procedure Calls</a>
          </h4>
<table class="left" id="table-5">
            <caption><a href="#table-5" class="selfRef">Table 5</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Term</th>
                <th class="text-left" rowspan="1" colspan="1">Definition</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Caller</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Caller</em> is a <em>Session</em> that <strong>calls</strong>, with application payloads, a (fully qualified) <em>Procedure</em> for call routing</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Callee</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Callee</em> is a <em>Session</em> that responds to <em>Procedure</em> call invocations by <strong>yielding</strong> back application result payloads</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Procedure</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Procedure</em> is an URI or URI pattern that can be registered for call routing by <em>Callees</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Registration</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Router</em> record resulting from a <em>Callee</em> successfully <strong>registering</strong> a <em>Procedure</em> for call routing</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Call</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A transient <em>Router</em> record resulting from a <em>Caller</em> successfully <strong>calling</strong> a <em>Procedure</em> for call routing</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Invocation</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A call request and payload that are routed to a <em>Callee</em> having a matching <em>Registration</em> for the called <em>Procedure</em>
</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
<div id="publish-and-subscribe-1">
<section id="section-8.1.4">
          <h4 id="name-publish-and-subscribe-2">
<a href="#section-8.1.4" class="section-number selfRef">8.1.4. </a><a href="#name-publish-and-subscribe-2" class="section-name selfRef">Publish and Subscribe</a>
          </h4>
<table class="left" id="table-6">
            <caption><a href="#table-6" class="selfRef">Table 6</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Term</th>
                <th class="text-left" rowspan="1" colspan="1">Definition</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Publisher</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Publisher</em> is a <em>Session</em> that <strong>publishes</strong> application payloads to a (fully qualified) <em>Topic</em> for event routing</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Subscriber</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Subscriber</em> is a <em>Session</em> that <strong>subscribes</strong> to a <em>Topic</em> to receive application payloads on matching events</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Topic</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Topic</em> is an URI or URI pattern that can be subscribed to for event routing by <em>Subscribers</em>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Subscription</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A <em>Router</em> record resulting from a <em>Subscriber</em> successfully <strong>subscribing</strong> to a <em>Topic</em> for event routing</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Publication</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A transient <em>Router</em> record resulting from a <em>Publisher</em> successfully <strong>publishing</strong> to a <em>Topic</em> for event routing</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <em>Event</em>
</td>
                <td class="text-left" rowspan="1" colspan="1">A publication that is routed to <em>Subscribers</em> having matching <em>Subscriptions</em> to the published <em>Topic</em>.</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">WAMP uses the Subprotocol Identifier <code>wamp</code> registered with the <a href="https://www.iana.org/assignments/websocket/websocket.xhtml">WebSocket Subprotocol Name Registry</a>, operated by the Internet Assigned Numbers Authority (IANA).<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conformance-requirements">
<section id="section-10">
      <h2 id="name-conformance-requirements">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-conformance-requirements" class="section-name selfRef">Conformance Requirements</a>
      </h2>
<p id="section-10-1">All diagrams, examples, and notes in this specification are non-normative, as are all sections explicitly marked non-normative. Everything else in this specification is normative.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in
this document are to be interpreted as described in RFC 2119 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">Requirements phrased in the imperative as part of algorithms (such as "strip any leading space characters" or "return false and abort these steps") are to be interpreted with the meaning of the key word ("MUST", "SHOULD", "MAY", etc.) used in introducing the algorithm.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">Conformance requirements phrased as algorithms or specific steps MAY  be implemented in any manner, so long as the end result is equivalent.<a href="#section-10-4" class="pilcrow">¶</a></p>
<div id="terminology-and-other-conventions">
<section id="section-10.1">
        <h3 id="name-terminology-and-other-conve">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-terminology-and-other-conve" class="section-name selfRef">Terminology and Other Conventions</a>
        </h3>
<p id="section-10.1-1">Key terms such as named algorithms or definitions are indicated like <em>this</em> when they first occur, and are capitalized throughout the text.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="contributors">
<section id="section-11">
      <h2 id="name-contributors">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-11-1">WAMP was developed in an open process from the beginning, and a lot of people have contributed ideas and other feedback. Here we are listing people who have opted in to being mentioned:<a href="#section-11-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-11-2.1">Alexander Goedde<a href="#section-11-2.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.2">Amber Brown<a href="#section-11-2.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.3">Andrew Gillis<a href="#section-11-2.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.4">David Chappelle<a href="#section-11-2.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.5">Elvis Stansvik<a href="#section-11-2.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.6">Emile Cormier<a href="#section-11-2.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.7">Felipe Gasper<a href="#section-11-2.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.8">Johan 't Hart<a href="#section-11-2.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.9">Josh Soref<a href="#section-11-2.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.10">Konstantin Burkalev<a href="#section-11-2.10" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.11">Pahaz Blinov<a href="#section-11-2.11" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.12">Paolo Angioletti<a href="#section-11-2.12" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.13">Roberto Requena<a href="#section-11-2.13" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.14">Roger Erens<a href="#section-11-2.14" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.15">Christoph Herzog<a href="#section-11-2.15" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.16">Tobias Oberstein<a href="#section-11-2.16" class="pilcrow">¶</a>
</li>
        <li class="compact" id="section-11-2.17">Zhigang Wang<a href="#section-11-2.17" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<section id="section-12">
      <h2 id="name-normative-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC3629">[RFC3629]</dt>
      <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
      <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6455">[RFC6455]</dt>
      <dd>
<span class="refAuthor">Fette, I.</span> and <span class="refAuthor">A. Melnikov</span>, <span class="refTitle">"The WebSocket Protocol"</span>, <span class="seriesInfo">RFC 6455</span>, <span class="seriesInfo">DOI 10.17487/RFC6455</span>, <time datetime="2011-12" class="refDate">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6455">https://www.rfc-editor.org/info/rfc6455</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7159">[RFC7159]</dt>
      <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">RFC 7159</span>, <span class="seriesInfo">DOI 10.17487/RFC7159</span>, <time datetime="2014-03" class="refDate">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7159">https://www.rfc-editor.org/info/rfc7159</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8949">[RFC8949]</dt>
    <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13">
      <h2 id="name-informative-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
    <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tobias Oberstein</span></div>
<div dir="auto" class="left"><span class="org">typedef int GmbH</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tobias.oberstein@typedefint.eu" class="email">tobias.oberstein@typedefint.eu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
